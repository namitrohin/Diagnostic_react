{"ast":null,"code":"import _regeneratorRuntime from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,formatMs,MenuItem,TextField,Fab}from\"@material-ui/core\";import{Autocomplete}from\"@mui/material\";import{DatePicker}from\"@material-ui/pickers\";import moment from\"moment\";import React,{useEffect,useState}from\"react\";import{SimpleTable}from\"../../../../components/basic-table\";import{debounce,showErrorToast,showSuccessToast}from\"../../../../components/common\";import{CommonController}from\"../../../../_redux/controller/common.controller\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddDeliveryChallanMdc=function AddDeliveryChallanMdc(_ref){var challanType=_ref.challanType;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tableList=_useState2[0],settableList=_useState2[1];var _useState3=useState({date:\"\",dc_no:\"\",po_no:\"\",po_date:\"\",courier:\"\",vehicle_no:\"\",contact_person:\"\",cperson_id:\"\",remarks:\"\",no_of_box:\"\",value:\"\",box_no:\"\",description:\"\",qty:\"\"}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),contactlist=_useState6[0],setcontactlist=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),saleslist=_useState8[0],setsaleslist=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showDIList=_useState10[0],setShowDIList=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),accountList=_useState12[0],setaccountList=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),salesOrderList=_useState14[0],setsalesOrderList=_useState14[1];var toggleDIList=function toggleDIList(){return setShowDIList(!showDIList);};var submitAddBox=function submitAddBox(){if(formData.box_no===\"\"){showErrorToast(\"Please Enter Box No\");}else if(formData.description===\"\"){showErrorToast(\"Please Enter description\");}else if(formData.qty===\"\"){showErrorToast(\"Please Enter Quality\");}else{settableList([].concat(_toConsumableArray(tableList),[{box_no:formData.box_no,description:formData.description,qty:formData.qty}]));setFormData(_objectSpread(_objectSpread({},formData),{},{box_no:\"\",description:\"\",qty:\"\"}));}};var handleChange=function handleChange(event){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},event.target.name,event.target.value)));};var handleDateChange=function handleDateChange(name,date){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,date)));};var handleDeleteTable=function handleDeleteTable(e){tableList.splice(tableList.indexOf(e),1);settableList(_toConsumableArray(tableList));};var diListColumn=[{id:\"box_no\",numeric:false,disablePadding:false,label:\"Box No\"},{id:\"description\",numeric:false,disablePadding:false,label:\"Description\"},{id:\"qty\",numeric:false,disablePadding:false,label:\"Qty\"}];var getDCNo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return CommonController.commonApiCallFilter(\"logistics/dc/generateDc\",{},\"get\",\"node\").then(function(data){if(data.status===200){setFormData(_objectSpread(_objectSpread({},formData),{},{dc_no:data.data.dc_no}));}});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);showErrorToast(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function getDCNo(){return _ref2.apply(this,arguments);};}();//Party name\nvar getCompanyList=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(search){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return CommonController.commonApiCallFilter(\"logistic/mdc/accountlist\",{search:search},\"get\",\"node\").then(function(data){console.log(data);if(data.status===200){setaccountList(data.result);console.log(accountList);}});case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);showErrorToast(_context2.t0);case 8:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));return function getCompanyList(_x){return _ref3.apply(this,arguments);};}();var getSalesOrder=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(search){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return CommonController.commonApiCallFilter(\"logistic/mdc/picksomdc?search=\"+search,\"\",\"post\",\"node\").then(function(data){if(data.status===200){setsalesOrderList(data.result);}}).catch(function(err){showErrorToast(err.message);});case 3:_context3.next=8;break;case 5:_context3.prev=5;_context3.t0=_context3[\"catch\"](0);showErrorToast(_context3.t0);case 8:case\"end\":return _context3.stop();}}},_callee3,null,[[0,5]]);}));return function getSalesOrder(_x2){return _ref4.apply(this,arguments);};}();//contact list\nvar getAccountContactList=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var search;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;search=contactlist.company_id;_context4.next=4;return CommonController.commonApiCallFilter(\"logistic/mdc/accountcontactlist\",{search:search},\"post\",\"node\").then(function(data){if(data.status===200){setFormData(_objectSpread(_objectSpread({},formData),{},{cperson_id:data.result.cperson_id,contact_person:data.result.cperson_name}));}else{showErrorToast(data.message);}}).catch(function(err){showErrorToast(err);});case 4:_context4.next=9;break;case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);showErrorToast(_context4.t0);case 9:case\"end\":return _context4.stop();}}},_callee4,null,[[0,6]]);}));return function getAccountContactList(){return _ref5.apply(this,arguments);};}();var submitMdc=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var body;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;if(!(formData.po_no===\"\")){_context5.next=5;break;}showErrorToast(\"Please Enter Po No\");_context5.next=44;break;case 5:if(!(formData.po_date===\"\")){_context5.next=9;break;}showErrorToast(\"Please Enter Po Date\");_context5.next=44;break;case 9:if(!(tableList.length<0)){_context5.next=13;break;}showErrorToast(\"Please add box\");_context5.next=44;break;case 13:if(!(formData.remarks===\"\")){_context5.next=17;break;}showErrorToast(\"Please enter remarks\");_context5.next=44;break;case 17:if(!(contactlist.company_name===\"\")){_context5.next=21;break;}showErrorToast(\"Please Select Party Name\");_context5.next=44;break;case 21:if(!(formData.courier===\"\")){_context5.next=25;break;}showErrorToast(\"Please Enter Courier\");_context5.next=44;break;case 25:if(!(formData.vehicle_no===\"\")){_context5.next=29;break;}showErrorToast(\"Please Enter Vehicle NO\");_context5.next=44;break;case 29:if(!(formData.contact_person===\"\")){_context5.next=33;break;}showErrorToast(\"Please Enter Contact Person\");_context5.next=44;break;case 33:if(!(formData.no_of_box===\"\")){_context5.next=37;break;}showErrorToast(\"Please Enter No Of Box\");_context5.next=44;break;case 37:if(!(formData.value===\"\")){_context5.next=41;break;}showErrorToast(\"Please Enter Value\");_context5.next=44;break;case 41:body={tran_id:\"0\",date:moment().format(\"MM/DD/YYYY\"),dc_no:formData.dc_no,so_id:saleslist.tran_id,company_id:contactlist.company_id,company_name:contactlist.company_name,cperson_id:formData.cperson_id,cperson_name:formData.contact_person,po_no:formData.po_no,po_date:formData.po_date,carrier:formData.courier,vehicle:formData.vehicle_no,remarks:formData.remarks,noofbox:formData.no_of_box,value:formData.value,user_name:localStorage.getItem(\"userName\"),manuDcDetail:tableList,user_id:localStorage.getItem(\"userId\")};_context5.next=44;return CommonController.commonApiCallFilter(\"logistic/mdc/insertmdc\",body,\"post\",\"node\").then(function(result){if(result.status===200){showSuccessToast(\"\".concat(result.message,\" Entry No \").concat(result.id_no));// window.location.reload();\n// window.location.reload();\nsettableList([]);setFormData(_objectSpread(_objectSpread({},formData),{},{date:\"\",po_no:\"\",po_date:\"\",courier:\"\",vehicle_no:\"\",contact_person:\"\",cperson_id:\"\",remarks:\"\",no_of_box:\"\",value:\"\"}));setsaleslist(null);setcontactlist(null);}else{showErrorToast(result.message.code);}}).catch(function(err){showErrorToast(err);});case 44:_context5.next=49;break;case 46:_context5.prev=46;_context5.t0=_context5[\"catch\"](0);showErrorToast(_context5.t0);case 49:case\"end\":return _context5.stop();}}},_callee5,null,[[0,46]]);}));return function submitMdc(){return _ref6.apply(this,arguments);};}();useEffect(function(){getAccountContactList();},[contactlist]);useEffect(function(){getDCNo();},[]);var dc_no=formData.dc_no,po_no=formData.po_no,courier=formData.courier,po_date=formData.po_date,vehicle_no=formData.vehicle_no,contact_person=formData.contact_person,remarks=formData.remarks,no_of_box=formData.no_of_box,value=formData.value,box_no=formData.box_no,description=formData.description,qty=formData.qty;return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"Date\",disabled:true,fullWidth:true,variant:\"outlined\",value:moment().format(\"MM/DD/YYYY\"),size:\"small\",name:\"date\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"DC NO.\",disabled:true,fullWidth:true,variant:\"outlined\",size:\"small\",value:dc_no,name:\"dc_no\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"PO No.\",fullWidth:true,variant:\"outlined\",value:po_no,name:\"po_no\",size:\"small\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(DatePicker,{label:\"PO Date\"// value={po_date}\n,format:\"dd/MM/yyyy\",onChange:function onChange(date){return handleDateChange(\"po_date\",date);},animateYearScrolling:true,inputVariant:\"outlined\",size:\"small\",autoOk:true,fullWidth:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsx(Autocomplete,{id:\"combo-box-demo\",options:accountList,fullWidth:true,size:\"small\",getOptionLabel:function getOptionLabel(option){return option.company_name;},value:contactlist,onChange:function onChange(e,value){return setcontactlist(value);},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{onInput:function onInput(e){debounce(getCompanyList(e.target.value,200));},label:\"Party Name\",variant:\"outlined\"}));}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"Courier\",fullWidth:true,onChange:handleChange,value:courier,variant:\"outlined\",name:\"courier\",size:\"small\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"Vehicle No\",fullWidth:true,value:vehicle_no,onChange:handleChange,name:\"vehicle_no\",variant:\"outlined\",size:\"small\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"Contact Person\",fullWidth:true,variant:\"outlined\",value:contact_person,name:\"contact_person\",size:\"small\",onChange:handleChange// select\n})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"Remarks\",value:remarks,fullWidth:true,variant:\"outlined\",size:\"small\",name:\"remarks\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"No Of Box\",value:no_of_box,name:\"no_of_box\",fullWidth:true,variant:\"outlined\",size:\"small\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(Autocomplete,{id:\"combo-box-demo\",options:salesOrderList,fullWidth:true,getOptionLabel:function getOptionLabel(option){return option.so_no;},value:saleslist,onChange:function onChange(e,value){return setsaleslist(value);},sx:{height:20},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{onChange:function onChange(e){debounce(getSalesOrder(e.target.value));},label:\"Sales Order\",variant:\"outlined\"}));}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"Value\",fullWidth:true,value:value,name:\"value\",variant:\"outlined\",onChange:handleChange,size:\"small\",multiline:true})})]}),tableList.length>0?/*#__PURE__*/_jsx(SimpleTable,{columns:diListColumn,rows:tableList,onDelete:handleDeleteTable}):null,/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"Box No\",fullWidth:true,onChange:handleChange,value:box_no,variant:\"outlined\",name:\"box_no\",size:\"small\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"Description\",fullWidth:true,onChange:handleChange,value:description,variant:\"outlined\",name:\"description\",size:\"small\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"Qty\",fullWidth:true,onChange:handleChange,value:qty,variant:\"outlined\",name:\"qty\",type:\"number\",size:\"small\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2 mb-3 pl-5\",children:/*#__PURE__*/_jsx(Button,{color:\"primary\"// className=\"mr-2\"\n// disableElevation\n,variant:\"contained\",onClick:submitAddBox,children:\"Add New\"})})]})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 mt-3 text-right\",children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"mr-2\",disableElevation:true,variant:\"contained\",onClick:submitMdc,children:\"Save\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",disableElevation:true,variant:\"contained\",children:\"Cancel\"})]})]});};export default AddDeliveryChallanMdc;","map":{"version":3,"sources":["F:/React code/diagnostic/src/pages/logistics/delivery-challan/mdc/mdc-add.js"],"names":["Button","formatMs","MenuItem","TextField","Fab","Autocomplete","DatePicker","moment","React","useEffect","useState","SimpleTable","debounce","showErrorToast","showSuccessToast","CommonController","AddDeliveryChallanMdc","challanType","tableList","settableList","date","dc_no","po_no","po_date","courier","vehicle_no","contact_person","cperson_id","remarks","no_of_box","value","box_no","description","qty","formData","setFormData","contactlist","setcontactlist","saleslist","setsaleslist","showDIList","setShowDIList","accountList","setaccountList","salesOrderList","setsalesOrderList","toggleDIList","submitAddBox","handleChange","event","target","name","handleDateChange","handleDeleteTable","e","splice","indexOf","diListColumn","id","numeric","disablePadding","label","getDCNo","commonApiCallFilter","then","data","status","getCompanyList","search","console","log","result","getSalesOrder","catch","err","message","getAccountContactList","company_id","cperson_name","submitMdc","length","company_name","body","tran_id","format","so_id","carrier","vehicle","noofbox","user_name","localStorage","getItem","manuDcDetail","user_id","id_no","code","option","params","so_no","height"],"mappings":"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","sourcesContent":["import {\r\n  Button,\r\n  formatMs,\r\n  MenuItem,\r\n  TextField,\r\n  Fab,\r\n} from \"@material-ui/core\";\r\nimport { Autocomplete,} from \"@mui/material\";\r\nimport { DatePicker } from \"@material-ui/pickers\";\r\n\r\nimport moment from \"moment\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { SimpleTable } from \"../../../../components/basic-table\";\r\nimport {\r\n  debounce,\r\n  \r\n  showErrorToast,\r\n  showSuccessToast,\r\n} from \"../../../../components/common\";\r\nimport { CommonController } from \"../../../../_redux/controller/common.controller\";\r\n\r\nconst AddDeliveryChallanMdc = ({ challanType }) => {\r\n  const [tableList, settableList] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    date: \"\",\r\n    dc_no: \"\",\r\n    po_no: \"\",\r\n    po_date: \"\",\r\n    courier: \"\",\r\n    vehicle_no: \"\",\r\n    contact_person: \"\",\r\n    cperson_id: \"\",\r\n    remarks: \"\",\r\n    no_of_box: \"\",\r\n    value: \"\",\r\n    box_no: \"\",\r\n    description: \"\",\r\n    qty: \"\",\r\n   \r\n  });\r\nconst [contactlist, setcontactlist] = useState(null)\r\nconst [saleslist, setsaleslist] = useState(null)\r\n  const [showDIList, setShowDIList] = useState(false);\r\n  const [accountList, setaccountList] = useState([]);\r\n  const [salesOrderList, setsalesOrderList] = useState([])\r\n  const toggleDIList = () => setShowDIList(!showDIList);\r\n  const submitAddBox = () => {\r\n          if (formData.box_no===\"\") {\r\n          showErrorToast(\"Please Enter Box No\");\r\n        }else if (formData.description===\"\") {\r\n          showErrorToast(\"Please Enter description\");\r\n        }else if (formData.qty===\"\") {\r\n          showErrorToast(\"Please Enter Quality\");\r\n         } else{\r\n          settableList([\r\n            ...tableList,\r\n            {\r\n              box_no: formData.box_no,\r\n              description: formData.description,\r\n              qty: formData.qty,\r\n            },\r\n          ]);\r\n          setFormData({ ...formData, box_no: \"\", description: \"\", qty: \"\" });\r\n         }\r\n  };\r\n \r\n  const handleChange = (event) => {\r\n    setFormData({ ...formData, [event.target.name]: event.target.value });\r\n  };\r\n  const handleDateChange = (name, date) => {\r\n    setFormData({ ...formData, [name]: date });\r\n  };\r\n\r\n  const handleDeleteTable = (e) => {\r\n    tableList.splice(tableList.indexOf(e), 1);\r\n    settableList([...tableList]);\r\n  };\r\n\r\n  const diListColumn = [\r\n    {\r\n      id: \"box_no\",\r\n      numeric: false,\r\n      disablePadding: false,\r\n      label: \"Box No\",\r\n    },\r\n    {\r\n      id: \"description\",\r\n      numeric: false,\r\n      disablePadding: false,\r\n      label: \"Description\",\r\n    },\r\n    {\r\n      id: \"qty\",\r\n      numeric: false,\r\n      disablePadding: false,\r\n      label: \"Qty\",\r\n    },\r\n  ];\r\n\r\n  const getDCNo = async () => {\r\n    try {\r\n      await CommonController.commonApiCallFilter(\r\n        \"logistics/dc/generateDc\",\r\n        {},\r\n        \"get\",\r\n        \"node\"\r\n      ).then((data) => {\r\n        if (data.status === 200) {\r\n          setFormData({ ...formData, dc_no: data.data.dc_no });\r\n        }\r\n      });\r\n    } catch (err) {\r\n      showErrorToast(err);\r\n    }\r\n  };\r\n  //Party name\r\n  const getCompanyList = async (search) => {\r\n    // setLoading(true);\r\n    try {\r\n      await CommonController.commonApiCallFilter(\r\n        \"logistic/mdc/accountlist\",\r\n        { search:search},\r\n        \"get\",\r\n        \"node\"\r\n      ).then((data) => {\r\n  console.log(data)\r\n        if (data.status === 200) {\r\n          setaccountList(data.result);\r\n          console.log(accountList)\r\n        }\r\n      });\r\n    } catch (err) {\r\n      showErrorToast(err);\r\n    }\r\n  };\r\n  const getSalesOrder = async (search) => {\r\n    try {\r\n      await CommonController.commonApiCallFilter(\r\n        \"logistic/mdc/picksomdc?search=\" + search,\r\n        \"\",\r\n        \"post\",\r\n        \"node\"\r\n      ).then((data) => {\r\n        if (data.status === 200) {\r\n          setsalesOrderList(data.result)\r\n        }\r\n      }).catch(err=>{\r\n        showErrorToast(err.message)\r\n      })\r\n    } catch (err) {\r\n      showErrorToast(err);\r\n    }\r\n  };\r\n  //contact list\r\n  const getAccountContactList = async () => {\r\n\r\n    try {\r\n     \r\n      let search=contactlist.company_id;\r\n      await CommonController.commonApiCallFilter(\r\n        \"logistic/mdc/accountcontactlist\",\r\n        { search:search},\r\n        \"post\",\r\n        \"node\"\r\n      ).then((data) => {\r\n        if (data.status === 200) {\r\n          setFormData({\r\n            ...formData,\r\n            cperson_id: data.result.cperson_id,\r\n            contact_person: data.result.cperson_name,\r\n          });\r\n        }else{\r\n         showErrorToast(data.message)\r\n        }\r\n      }).catch(err=>{\r\n        showErrorToast(err)\r\n      })\r\n    } catch (err) {\r\n      showErrorToast(err);\r\n    }\r\n  };\r\n  const submitMdc = async () => {\r\n    try {\r\n      if (formData.po_no === \"\") {\r\n        showErrorToast(\"Please Enter Po No\");\r\n      }else if (formData.po_date === \"\") {\r\n        showErrorToast(\"Please Enter Po Date\");\r\n      }  else if (tableList.length < 0) {\r\n        showErrorToast(\"Please add box\");\r\n      } else if (formData.remarks === \"\") {\r\n        showErrorToast(\"Please enter remarks\");\r\n      } else if (contactlist.company_name === \"\") {\r\n        showErrorToast(\"Please Select Party Name\");\r\n      } else if (formData.courier === \"\") {\r\n        showErrorToast(\"Please Enter Courier\");\r\n      } else if (formData.vehicle_no === \"\") {\r\n        showErrorToast(\"Please Enter Vehicle NO\");\r\n      } else if (formData.contact_person === \"\") {\r\n        showErrorToast(\"Please Enter Contact Person\");\r\n      } else if (formData.no_of_box === \"\") {\r\n        showErrorToast(\"Please Enter No Of Box\");\r\n      \r\n      } else if (formData.value === \"\") {\r\n        showErrorToast(\"Please Enter Value\");\r\n      \r\n      } else {\r\n        const body = {\r\n          tran_id: \"0\",\r\n          date:moment().format(\"MM/DD/YYYY\"),\r\n          dc_no: formData.dc_no,\r\n          so_id:saleslist.tran_id,\r\n          company_id:contactlist.company_id,\r\n          company_name:contactlist.company_name,\r\n          cperson_id: formData.cperson_id,\r\n          cperson_name: formData.contact_person,\r\n          po_no: formData.po_no,\r\n          po_date: formData.po_date,\r\n          carrier: formData.courier,\r\n          vehicle: formData.vehicle_no,\r\n          remarks: formData.remarks,\r\n          noofbox: formData.no_of_box,\r\n          value: formData.value,\r\n          user_name: localStorage.getItem(\"userName\"),\r\n          manuDcDetail: tableList,\r\n          user_id: localStorage.getItem(\"userId\"),\r\n        };\r\n        await CommonController.commonApiCallFilter(\r\n          \"logistic/mdc/insertmdc\",\r\n          body,\r\n          \"post\",\r\n          \"node\"\r\n        )\r\n          .then((result) => {\r\n            if (result.status === 200) {\r\n              showSuccessToast(`${result.message} Entry No ${result.id_no}`);\r\n              // window.location.reload();\r\n              settableList([])\r\n              setFormData({\r\n                ...formData,\r\n                date: \"\",\r\n                po_no: \"\",\r\n                po_date: \"\",\r\n                courier: \"\",\r\n                vehicle_no: \"\",\r\n                contact_person: \"\",\r\n                cperson_id: \"\",\r\n                remarks: \"\",\r\n                no_of_box: \"\",\r\n               \r\n                value: \"\",\r\n             \r\n              \r\n              });\r\n              setsaleslist(null)\r\n              setcontactlist(null)\r\n            } else {\r\n              showErrorToast(result.message.code);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            showErrorToast(err);\r\n          });\r\n      }\r\n    } catch (err) {\r\n      showErrorToast(err);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getAccountContactList();\r\n\r\n  }, [contactlist]);\r\n\r\n  useEffect(() => {\r\n    getDCNo();\r\n  }, []);\r\n\r\n \r\n \r\n\r\n  const {\r\n    dc_no,\r\n    po_no,\r\n    courier,\r\n    po_date,\r\n    vehicle_no,\r\n    contact_person,\r\n    remarks,\r\n    no_of_box,\r\n    value,\r\n    box_no,\r\n    description,\r\n    qty,\r\n  } = formData;\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row mt-5\">\r\n        <div className=\"col-md-3 mb-3\">\r\n          <TextField\r\n            label=\"Date\"\r\n            disabled\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={moment().format(\"MM/DD/YYYY\")}\r\n            size=\"small\"\r\n            name=\"date\"\r\n          />\r\n        </div>\r\n        <div className=\"col-md-3 mb-3\">\r\n          <TextField\r\n            label=\"DC NO.\"\r\n            disabled\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            value={dc_no}\r\n            name={\"dc_no\"}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-md-3 mb-3\">\r\n          <TextField\r\n            label=\"PO No.\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={po_no}\r\n            name=\"po_no\"\r\n            size=\"small\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"col-md-3 mb-3\">\r\n          <DatePicker\r\n            label=\"PO Date\"\r\n            // value={po_date}\r\n            format=\"dd/MM/yyyy\"\r\n            onChange={(date) => handleDateChange(\"po_date\", date)}\r\n            animateYearScrolling\r\n            inputVariant=\"outlined\"\r\n            size=\"small\"\r\n            autoOk\r\n            fullWidth\r\n          />\r\n        </div>\r\n        <div className=\"col-md-6 mb-3\">\r\n        <Autocomplete\r\n              id=\"combo-box-demo\"\r\n              options={accountList}\r\n              fullWidth\r\n              size=\"small\"\r\n              getOptionLabel={(option) =>option.company_name}\r\n              value={contactlist}\r\n              onChange={(e, value) => setcontactlist(value)}\r\n              renderInput={(params) => (\r\n                <TextField\r\n                  {...params}\r\n                  onInput={(e) => {\r\n                    debounce(getCompanyList(e.target.value, 200));\r\n                  }}\r\n                  label=\"Party Name\"\r\n                  variant=\"outlined\"\r\n                />\r\n              )}\r\n            />\r\n          {/* <TextField\r\n            label=\"Party Name\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            value={party_name}\r\n            name=\"party_name\"\r\n            // disabled\r\n            onChange={handleChange}\r\n            select\r\n          >\r\n            {accountList.map((val) => (\r\n              <MenuItem key={val.company_id} value={val.company_name}>\r\n                {val.company_name}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField> */}\r\n        </div>\r\n        <div className=\"col-md-3 mb-3\">\r\n          <TextField\r\n            label=\"Courier\"\r\n            fullWidth\r\n            onChange={handleChange}\r\n            value={courier}\r\n            variant=\"outlined\"\r\n            name=\"courier\"\r\n            size=\"small\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-md-3 mb-3\">\r\n          <TextField\r\n            label=\"Vehicle No\"\r\n            fullWidth\r\n            value={vehicle_no}\r\n            onChange={handleChange}\r\n            name={\"vehicle_no\"}\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n          />\r\n        </div>\r\n        <div className=\"col-md-6 mb-3\">\r\n          <TextField\r\n            label=\"Contact Person\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={contact_person}\r\n            name={\"contact_person\"}\r\n            size=\"small\"\r\n            onChange={handleChange}\r\n            // select\r\n          >\r\n            {/* <MenuItem value=\"ab\">ab</MenuItem> */}\r\n          </TextField>\r\n        </div>\r\n\r\n        <div className=\"col-md-6 mb-3\">\r\n          <TextField\r\n            label=\"Remarks\"\r\n            value={remarks}\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            name=\"remarks\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"col-md-6 mb-3\">\r\n          <TextField\r\n            label=\"No Of Box\"\r\n            value={no_of_box}\r\n            name=\"no_of_box\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"col-md-3 mb-3\">\r\n        <Autocomplete\r\n              id=\"combo-box-demo\"\r\n              options={salesOrderList}\r\n              fullWidth\r\n              getOptionLabel={(option) =>option.so_no}\r\n              value={saleslist}\r\n              onChange={(e, value) => setsaleslist(value)}\r\n              sx={{ height:20 }}\r\n              renderInput={(params) => (\r\n                <TextField\r\n                  {...params}\r\n                  onChange={(e) => {\r\n                    debounce(getSalesOrder(e.target.value));\r\n                  }}\r\n                  label=\"Sales Order\"\r\n                  variant=\"outlined\"\r\n                />\r\n              )}\r\n            />\r\n          {/* <TextField\r\n            label=\"Sales Order\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={sales_order}\r\n            onChange={handleChange}\r\n            name=\"sales_order\"\r\n            size=\"small\"\r\n            select\r\n          >\r\n           {salesOrderList.map((val,i)=>( <MenuItem key={i }value={val.so_no}> {val.so_no}</MenuItem>))}\r\n          </TextField> */}\r\n        </div>\r\n        <div className=\"col-md-3 mb-3\">\r\n          <TextField\r\n            label=\"Value\"\r\n            fullWidth\r\n            value={value}\r\n            name=\"value\"\r\n            variant=\"outlined\"\r\n            onChange={handleChange}\r\n            size=\"small\"\r\n            multiline\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {tableList.length > 0 ? (\r\n        <SimpleTable\r\n          columns={diListColumn}\r\n          rows={tableList}\r\n          onDelete={handleDeleteTable}\r\n        />\r\n      ) : null}\r\n      <hr />\r\n      <div className=\"container-fluid\">\r\n        {/* <h1>Add Box:</h1> */}\r\n        <div className=\"row mt-5\">\r\n          <div className=\"col-md-3 mb-3\">\r\n            <TextField\r\n              label=\"Box No\"\r\n              fullWidth\r\n              onChange={handleChange}\r\n              value={box_no}\r\n              variant=\"outlined\"\r\n              name=\"box_no\"\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4 mb-3\">\r\n            <TextField\r\n              label=\"Description\"\r\n              fullWidth\r\n              onChange={handleChange}\r\n              value={description}\r\n              variant=\"outlined\"\r\n              name=\"description\"\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3 mb-3\">\r\n            <TextField\r\n              label=\"Qty\"\r\n              fullWidth\r\n              onChange={handleChange}\r\n              value={qty}\r\n              variant=\"outlined\"\r\n              name=\"qty\"\r\n              type=\"number\"\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-2 mb-3 pl-5\">\r\n            <Button\r\n              color=\"primary\"\r\n              // className=\"mr-2\"\r\n              // disableElevation\r\n              variant=\"contained\"\r\n              onClick={submitAddBox}\r\n            >\r\n              Add New\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* <div className=\"float-action-btn\">\r\n          <Fab\r\n            variant=\"extended\"\r\n            onClick={addBox}\r\n            size=\"medium\"\r\n            color=\"primary\"\r\n            aria-label=\"add\"\r\n          >\r\n            <AddIcon />\r\n            Add Box\r\n          </Fab>\r\n        </div> */}\r\n\r\n      <hr />\r\n      <div className=\"w-100 mt-3 text-right\">\r\n        <Button\r\n          color=\"primary\"\r\n          className=\"mr-2\"\r\n          disableElevation\r\n          variant=\"contained\"\r\n          onClick={submitMdc}\r\n        >\r\n          Save\r\n        </Button>\r\n        <Button color=\"primary\" disableElevation variant=\"contained\">\r\n          Cancel\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddDeliveryChallanMdc;\r\n"]},"metadata":{},"sourceType":"module"}