{"ast":null,"code":"import _objectSpread from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Fab}from\"@material-ui/core\";import{Autocomplete,TextField}from\"@mui/material\";import moment from\"moment\";import React,{useEffect,useState}from\"react\";import{SimpleTable}from\"../../components/basic-table\";import{debounce,showErrorToast,showSuccessToast}from\"../../components/common\";import{TablePicker}from\"../../components/table-picker\";import AddIcon from\"@material-ui/icons/Add\";import{CommonController}from\"../../_redux/controller/common.controller\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewDCPackaging=function NewDCPackaging(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedPackingList=_useState2[0],setSelectedPackingList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showPackagingList=_useState4[0],setShowPackagingList=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),itemListBody=_useState6[0],setItemListBody=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),showItemList=_useState8[0],setShowItemList=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),companyList=_useState10[0],setCompanyList=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),selectedCompany=_useState12[0],setSelectedCompany=_useState12[1];var _useState13=useState({date:moment().format(\"DD/MM/YYYY\"),entry_no:\"\",remarks:\"\"}),_useState14=_slicedToArray(_useState13,2),initialValues=_useState14[0],setInitialValues=_useState14[1];var _useState15=useState([{items:[]}]),_useState16=_slicedToArray(_useState15,2),boxList=_useState16[0],setBoxList=_useState16[1];useEffect(function(){getEntryNo();},[]);useEffect(function(){setItemListBody({dcList:selectedPackingList.map(function(item){return{id:item.tran_id};}),itemList:[]});},[selectedPackingList]);useEffect(function(){if(boxList.length>1){var iList=[];boxList.forEach(function(x){iList.push.apply(iList,x.items);});setItemListBody({dcList:selectedPackingList.map(function(item){return{id:item.tran_id};}),itemList:iList});}},[boxList]);var togglePackagingList=function togglePackagingList(){return setShowPackagingList(!showPackagingList);};var toggleItemList=function toggleItemList(index){return setShowItemList(index);};var handlePackagingList=function handlePackagingList(data){setSelectedPackingList(data);togglePackagingList();};var handleIemList=function handleIemList(data,index){var tempBox=_toConsumableArray(boxList);tempBox[index].items=data;setBoxList(tempBox);toggleItemList(null);};var removeBox=function removeBox(index){setBoxList(boxList.filter(function(item,_){return _!==index;}));};var addBox=function addBox(){setBoxList([].concat(_toConsumableArray(boxList),[{items:[]}]));};var itemListColumn=[{id:\"tran_id\",numeric:false,disablePadding:true,label:\"ID\"},{id:\"mlfb_no\",numeric:false,disablePadding:true,label:\"MLFB No.\"},{id:\"dc_no\",numeric:false,disablePadding:true,label:\"DC No.\"},{id:\"item_name\",numeric:false,disablePadding:true,label:\"Item Name\"},{id:\"description\",numeric:false,disablePadding:true,label:\"Description\"},{id:\"qty\",numeric:false,disablePadding:true,label:\"Quantity\"},{id:\"serial_no\",numeric:false,disablePadding:true,label:\"Serial No.\"}];var packagingListColumn=[{id:\"tran_id\",numeric:false,disablePadding:true,label:\"ID\"},{id:\"date\",numeric:false,disablePadding:true,label:\"Date\",dateFormat:true},{id:\"dc_no\",numeric:false,disablePadding:true,label:\"DC No.\"},{id:\"Company\",numeric:false,disablePadding:true,label:\"Company\"},{id:\"Contact\",numeric:false,disablePadding:true,label:\"Contact\"},{id:\"so_no\",numeric:false,disablePadding:true,label:\"SO No.\"},{id:\"dispatch_through\",numeric:false,disablePadding:true,label:\"Dispatch Through\"},{id:\"Destination\",numeric:false,disablePadding:true,label:\"Destination\"},{id:\"datetime\",numeric:false,disablePadding:true,label:\"Datetime\",dateFormat:true},{id:\"status\",numeric:false,disablePadding:true,label:\"Status\"},{id:\"comments\",numeric:false,disablePadding:true,label:\"Comments\"},{id:\"remarks\",numeric:false,disablePadding:true,label:\"Remarks\",flex:1},{id:\"di_no\",numeric:false,disablePadding:true,label:\"DI No.\"}];var getCompanyList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(search){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return CommonController.commonApiCallFilter(\"dc/pickCompany\",{search:search},\"get\",\"node\");case 3:response=_context.sent;if(response.status===200){setCompanyList(response.result);}else{showErrorToast(response.message);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);showErrorToast(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getCompanyList(_x){return _ref.apply(this,arguments);};}();var deletePickItem=function deletePickItem(item,index){var tempBoxList=_toConsumableArray(boxList);tempBoxList[index].items=tempBoxList[index].items.filter(function(x){return x.tran_id!==item.tran_id;});setBoxList(tempBoxList);};var getEntryNo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return CommonController.commonApiCallFilter(\"dc/generateDCNo\",{},\"get\",\"node\");case 3:response=_context2.sent;if(response.status===200){setInitialValues(_objectSpread(_objectSpread({},initialValues),{},{entry_no:response.data}));}else{showErrorToast(response.message);}_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);showErrorToast(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function getEntryNo(){return _ref2.apply(this,arguments);};}();var submitDC=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var body,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;if(!(initialValues.remarks===\"\")){_context3.next=5;break;}showErrorToast(\"Please enter remarks\");_context3.next=18;break;case 5:if(!(boxList.filter(function(x){return x.items.length<1;}).length>0)){_context3.next=9;break;}showErrorToast(\"Please choose items for box\");_context3.next=18;break;case 9:if(!(selectedPackingList.length<1)){_context3.next=13;break;}showErrorToast(\"Please choose dc packaging\");_context3.next=18;break;case 13:body={tran_id:\"0\",date:initialValues.date,entry_no:initialValues.entry_no,company_id:selectedCompany.company_id,remarks:initialValues.remarks,boxList:boxList,user_id:localStorage.getItem(\"userId\")};_context3.next=16;return CommonController.commonApiCallFilter(\"dc/insertDc\",body,\"post\",\"node\");case 16:response=_context3.sent;if(response.status===200){showSuccessToast(response.message);window.location.reload();}else{showErrorToast(response.message);}case 18:_context3.next=23;break;case 20:_context3.prev=20;_context3.t0=_context3[\"catch\"](0);showErrorToast(_context3.t0);case 23:case\"end\":return _context3.stop();}}},_callee3,null,[[0,20]]);}));return function submitDC(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-5 pt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"entry-details d-flex col-md-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mr-3\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Date\"}),/*#__PURE__*/_jsx(TextField,{value:initialValues.date,fullWidth:true,label:\"\",variant:\"outlined\",size:\"small\",disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mr-3\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Entry No.\"}),\" \",/*#__PURE__*/_jsx(TextField,{value:initialValues.entry_no,fullWidth:true,label:\"\",variant:\"outlined\",size:\"small\",disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Remarks\"}),/*#__PURE__*/_jsx(TextField,{label:\"Remarks\",fullWidth:true,value:initialValues.remarks,variant:\"outlined\",size:\"small\",name:\"remarks\",onChange:function onChange(e){return setInitialValues(_objectSpread(_objectSpread({},initialValues),{},{remarks:e.target.value}));}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4  ml-auto \",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Pick Company\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Autocomplete,{id:\"combo-box-demo\",options:companyList,fullWidth:true,size:\"small\",getOptionLabel:function getOptionLabel(option){return option.company_name;},value:selectedCompany,onChange:function onChange(e,value){return setSelectedCompany(value);},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{onInput:function onInput(e){debounce(getCompanyList(e.target.value,200));},label:\"\",variant:\"outlined\"}));}}),!showPackagingList&&selectedCompany&&/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"mx-3 w-25\",disableElevation:true,variant:\"contained\",onClick:togglePackagingList,children:\"Pick DC\"})]})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),showPackagingList&&/*#__PURE__*/_jsx(TablePicker,{selectedItems:selectedPackingList,columns:packagingListColumn,url:\"dc/pickDC\",isNode:\"node\",apiBody:{company_id:selectedCompany===null||selectedCompany===void 0?void 0:selectedCompany.company_id},apiType:\"post\",onPickerClose:togglePackagingList,onSubmit:handlePackagingList}),selectedPackingList.length>0&&/*#__PURE__*/_jsx(SimpleTable,{columns:packagingListColumn,rows:selectedPackingList// onDelete={handleAddedCustomer}\n}),itemListBody&&itemListBody.dcList.length>0&&boxList.map(function(box,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"box-list mt-5 pt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"box-header\",children:[\"Box no. \",index+1]}),/*#__PURE__*/_jsxs(\"div\",{className:\" ml-auto\",children:[showItemList!==index&&/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"mr-2\",disableElevation:true,variant:\"contained\",onClick:function onClick(){return toggleItemList(index);},children:\"Pick Item\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"mr-2 ml-auto\",disableElevation:true,variant:\"contained\",onClick:function onClick(){return removeBox(index);},children:\"Remove Box\"})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),showItemList===index&&/*#__PURE__*/_jsx(TablePicker,{selectedItems:box.items,columns:itemListColumn,url:\"dc/pickDCItem\",isNode:\"node\",apiBody:itemListBody,apiType:\"post\",onPickerClose:function onPickerClose(){return toggleItemList(null);},onSubmit:function onSubmit(data){return handleIemList(data,index);}}),box.items.length>0&&showItemList!==index&&/*#__PURE__*/_jsx(SimpleTable,{columns:itemListColumn,rows:box.items,onDelete:function onDelete(item){return deletePickItem(item,index);}})]},index);}),selectedPackingList.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"float-action-btn\",children:/*#__PURE__*/_jsxs(Fab,{variant:\"extended\",onClick:addBox,size:\"medium\",color:\"primary\",\"aria-label\":\"add\",children:[/*#__PURE__*/_jsx(AddIcon,{}),\"Add Box\"]})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 mt-3 text-right\",children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"mr-2\",disableElevation:true,variant:\"contained\",onClick:submitDC,children:\"Save\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",disableElevation:true,variant:\"contained\",children:\"Cancel\"})]})]});};export default NewDCPackaging;","map":{"version":3,"sources":["F:/React code/diagnostic/src/pages/DC/form.js"],"names":["Button","Fab","Autocomplete","TextField","moment","React","useEffect","useState","SimpleTable","debounce","showErrorToast","showSuccessToast","TablePicker","AddIcon","CommonController","NewDCPackaging","selectedPackingList","setSelectedPackingList","showPackagingList","setShowPackagingList","itemListBody","setItemListBody","showItemList","setShowItemList","companyList","setCompanyList","selectedCompany","setSelectedCompany","date","format","entry_no","remarks","initialValues","setInitialValues","items","boxList","setBoxList","getEntryNo","dcList","map","item","id","tran_id","itemList","length","iList","forEach","x","push","apply","togglePackagingList","toggleItemList","index","handlePackagingList","data","handleIemList","tempBox","removeBox","filter","_","addBox","itemListColumn","numeric","disablePadding","label","packagingListColumn","dateFormat","flex","getCompanyList","search","commonApiCallFilter","response","status","result","message","deletePickItem","tempBoxList","submitDC","body","company_id","user_id","localStorage","getItem","window","location","reload","e","target","value","option","company_name","params","box"],"mappings":"+sBAAA,OAASA,MAAT,CAAiBC,GAAjB,KAA4B,mBAA5B,CACA,OAASC,YAAT,CAAuBC,SAAvB,KAAwC,eAAxC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,8BAA5B,CACA,OACEC,QADF,CAEEC,cAFF,CAGEC,gBAHF,KAIO,yBAJP,CAKA,OAASC,WAAT,KAA4B,+BAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,OAASC,gBAAT,KAAiC,2CAAjC,C,wFAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,cAAsDR,QAAQ,CAAC,EAAD,CAA9D,wCAAOS,mBAAP,eAA4BC,sBAA5B,eACA,eAAkDV,QAAQ,CAAC,KAAD,CAA1D,yCAAOW,iBAAP,eAA0BC,oBAA1B,eACA,eAAwCZ,QAAQ,CAAC,IAAD,CAAhD,yCAAOa,YAAP,eAAqBC,eAArB,eACA,eAAwCd,QAAQ,CAAC,IAAD,CAAhD,yCAAOe,YAAP,eAAqBC,eAArB,eACA,eAAsChB,QAAQ,CAAC,EAAD,CAA9C,0CAAOiB,WAAP,gBAAoBC,cAApB,gBACA,gBAA8ClB,QAAQ,CAAC,IAAD,CAAtD,2CAAOmB,eAAP,gBAAwBC,kBAAxB,gBAEA,gBAA0CpB,QAAQ,CAAC,CACjDqB,IAAI,CAAExB,MAAM,GAAGyB,MAAT,CAAgB,YAAhB,CAD2C,CAEjDC,QAAQ,CAAE,EAFuC,CAGjDC,OAAO,CAAE,EAHwC,CAAD,CAAlD,2CAAOC,aAAP,gBAAsBC,gBAAtB,gBAKA,gBAA8B1B,QAAQ,CAAC,CACrC,CACE2B,KAAK,CAAE,EADT,CADqC,CAAD,CAAtC,2CAAOC,OAAP,gBAAgBC,UAAhB,gBAMA9B,SAAS,CAAC,UAAM,CACd+B,UAAU,GACX,CAFQ,CAEN,EAFM,CAAT,CAGA/B,SAAS,CAAC,UAAM,CACde,eAAe,CAAC,CACdiB,MAAM,CAAEtB,mBAAmB,CAACuB,GAApB,CAAwB,SAACC,IAAD,QAAW,CAAEC,EAAE,CAAED,IAAI,CAACE,OAAX,CAAX,EAAxB,CADM,CAEdC,QAAQ,CAAE,EAFI,CAAD,CAAf,CAID,CALQ,CAKN,CAAC3B,mBAAD,CALM,CAAT,CAOAV,SAAS,CAAC,UAAM,CACd,GAAI6B,OAAO,CAACS,MAAR,CAAiB,CAArB,CAAwB,CACtB,GAAIC,CAAAA,KAAK,CAAG,EAAZ,CACAV,OAAO,CAACW,OAAR,CAAgB,SAACC,CAAD,CAAO,CACrBF,KAAK,CAACG,IAAN,CAAWC,KAAX,CAAiBJ,KAAjB,CAAwBE,CAAC,CAACb,KAA1B,EACD,CAFD,EAIAb,eAAe,CAAC,CACdiB,MAAM,CAAEtB,mBAAmB,CAACuB,GAApB,CAAwB,SAACC,IAAD,QAAW,CAAEC,EAAE,CAAED,IAAI,CAACE,OAAX,CAAX,EAAxB,CADM,CAEdC,QAAQ,CAAEE,KAFI,CAAD,CAAf,CAID,CACF,CAZQ,CAYN,CAACV,OAAD,CAZM,CAAT,CAcA,GAAMe,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,SAAM/B,CAAAA,oBAAoB,CAAC,CAACD,iBAAF,CAA1B,EAA5B,CACA,GAAMiC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,QAAW7B,CAAAA,eAAe,CAAC6B,KAAD,CAA1B,EAAvB,CAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,IAAD,CAAU,CACpCrC,sBAAsB,CAACqC,IAAD,CAAtB,CACAJ,mBAAmB,GACpB,CAHD,CAKA,GAAMK,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACD,IAAD,CAAOF,KAAP,CAAiB,CACrC,GAAII,CAAAA,OAAO,oBAAOrB,OAAP,CAAX,CACAqB,OAAO,CAACJ,KAAD,CAAP,CAAelB,KAAf,CAAuBoB,IAAvB,CACAlB,UAAU,CAACoB,OAAD,CAAV,CACAL,cAAc,CAAC,IAAD,CAAd,CACD,CALD,CAOA,GAAMM,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACL,KAAD,CAAW,CAC3BhB,UAAU,CAACD,OAAO,CAACuB,MAAR,CAAe,SAAClB,IAAD,CAAOmB,CAAP,QAAaA,CAAAA,CAAC,GAAKP,KAAnB,EAAf,CAAD,CAAV,CACD,CAFD,CAIA,GAAMQ,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBxB,UAAU,8BACLD,OADK,GAER,CACED,KAAK,CAAE,EADT,CAFQ,GAAV,CAMD,CAPD,CASA,GAAM2B,CAAAA,cAAc,CAAG,CACrB,CACEpB,EAAE,CAAE,SADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,IAJT,CADqB,CAOrB,CACEvB,EAAE,CAAE,SADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,UAJT,CAPqB,CAarB,CACEvB,EAAE,CAAE,OADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,QAJT,CAbqB,CAmBrB,CACEvB,EAAE,CAAE,WADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,WAJT,CAnBqB,CAyBrB,CACEvB,EAAE,CAAE,aADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,aAJT,CAzBqB,CAgCrB,CACEvB,EAAE,CAAE,KADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,UAJT,CAhCqB,CAsCrB,CACEvB,EAAE,CAAE,WADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,YAJT,CAtCqB,CAAvB,CA8CA,GAAMC,CAAAA,mBAAmB,CAAG,CAC1B,CACExB,EAAE,CAAE,SADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,IAJT,CAD0B,CAO1B,CACEvB,EAAE,CAAE,MADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,MAJT,CAKEE,UAAU,CAAE,IALd,CAP0B,CAc1B,CACEzB,EAAE,CAAE,OADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,QAJT,CAd0B,CAoB1B,CACEvB,EAAE,CAAE,SADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,SAJT,CApB0B,CA0B1B,CACEvB,EAAE,CAAE,SADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,SAJT,CA1B0B,CAgC1B,CACEvB,EAAE,CAAE,OADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,QAJT,CAhC0B,CAsC1B,CACEvB,EAAE,CAAE,kBADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,kBAJT,CAtC0B,CA4C1B,CACEvB,EAAE,CAAE,aADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,aAJT,CA5C0B,CAkD1B,CACEvB,EAAE,CAAE,UADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,UAJT,CAKEE,UAAU,CAAE,IALd,CAlD0B,CAyD1B,CACEzB,EAAE,CAAE,QADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,QAJT,CAzD0B,CA+D1B,CACEvB,EAAE,CAAE,UADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,UAJT,CA/D0B,CAqE1B,CACEvB,EAAE,CAAE,SADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,SAJT,CAKEG,IAAI,CAAE,CALR,CArE0B,CA4E1B,CACE1B,EAAE,CAAE,OADN,CAEEqB,OAAO,CAAE,KAFX,CAGEC,cAAc,CAAE,IAHlB,CAIEC,KAAK,CAAE,QAJT,CA5E0B,CAA5B,CAoFA,GAAMI,CAAAA,cAAc,0FAAG,iBAAOC,MAAP,qKAEEvD,CAAAA,gBAAgB,CAACwD,mBAAjB,CACnB,gBADmB,CAEnB,CAAED,MAAM,CAAEA,MAAV,CAFmB,CAGnB,KAHmB,CAInB,MAJmB,CAFF,QAEfE,QAFe,eASnB,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC3B/C,cAAc,CAAC8C,QAAQ,CAACE,MAAV,CAAd,CACD,CAFD,IAEO,CACL/D,cAAc,CAAC6D,QAAQ,CAACG,OAAV,CAAd,CACD,CAbkB,+EAenBhE,cAAc,aAAd,CAfmB,oEAAH,kBAAd0D,CAAAA,cAAc,4CAApB,CAmBA,GAAMO,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACnC,IAAD,CAAOY,KAAP,CAAiB,CACtC,GAAIwB,CAAAA,WAAW,oBAAOzC,OAAP,CAAf,CACAyC,WAAW,CAACxB,KAAD,CAAX,CAAmBlB,KAAnB,CAA2B0C,WAAW,CAACxB,KAAD,CAAX,CAAmBlB,KAAnB,CAAyBwB,MAAzB,CACzB,SAACX,CAAD,QAAOA,CAAAA,CAAC,CAACL,OAAF,GAAcF,IAAI,CAACE,OAA1B,EADyB,CAA3B,CAIAN,UAAU,CAACwC,WAAD,CAAV,CACD,CAPD,CASA,GAAMvC,CAAAA,UAAU,2FAAG,6LAEMvB,CAAAA,gBAAgB,CAACwD,mBAAjB,CACnB,iBADmB,CAEnB,EAFmB,CAGnB,KAHmB,CAInB,MAJmB,CAFN,QAEXC,QAFW,gBASf,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC3BvC,gBAAgB,gCAAMD,aAAN,MAAqBF,QAAQ,CAAEyC,QAAQ,CAACjB,IAAxC,GAAhB,CACD,CAFD,IAEO,CACL5C,cAAc,CAAC6D,QAAQ,CAACG,OAAV,CAAd,CACD,CAbc,mFAefhE,cAAc,cAAd,CAfe,sEAAH,kBAAV2B,CAAAA,UAAU,2CAAhB,CAmBA,GAAMwC,CAAAA,QAAQ,2FAAG,gLAET7C,aAAa,CAACD,OAAd,GAA0B,EAFjB,2BAGXrB,cAAc,CAAC,sBAAD,CAAd,CAHW,oCAIFyB,OAAO,CAACuB,MAAR,CAAe,SAACX,CAAD,QAAOA,CAAAA,CAAC,CAACb,KAAF,CAAQU,MAAR,CAAiB,CAAxB,EAAf,EAA0CA,MAA1C,CAAmD,CAJjD,2BAKXlC,cAAc,CAAC,6BAAD,CAAd,CALW,oCAMFM,mBAAmB,CAAC4B,MAApB,CAA6B,CAN3B,4BAOXlC,cAAc,CAAC,4BAAD,CAAd,CAPW,gCASLoE,IATK,CASE,CACXpC,OAAO,CAAE,GADE,CAEXd,IAAI,CAAEI,aAAa,CAACJ,IAFT,CAGXE,QAAQ,CAAEE,aAAa,CAACF,QAHb,CAIXiD,UAAU,CAAErD,eAAe,CAACqD,UAJjB,CAKXhD,OAAO,CAAEC,aAAa,CAACD,OALZ,CAMXI,OAAO,CAAEA,OANE,CAOX6C,OAAO,CAAEC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAPE,CATF,yBAkBUpE,CAAAA,gBAAgB,CAACwD,mBAAjB,CACnB,aADmB,CAEnBQ,IAFmB,CAGnB,MAHmB,CAInB,MAJmB,CAlBV,SAkBPP,QAlBO,gBAyBX,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC3B7D,gBAAgB,CAAC4D,QAAQ,CAACG,OAAV,CAAhB,CACAS,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAHD,IAGO,CACL3E,cAAc,CAAC6D,QAAQ,CAACG,OAAV,CAAd,CACD,CA9BU,6FAiCbhE,cAAc,cAAd,CAjCa,uEAAH,kBAARmE,CAAAA,QAAQ,2CAAd,CAoCA,mBACE,aAAK,SAAS,CAAC,2BAAf,wBACE,aAAK,SAAS,CAAC,KAAf,wBACE,aAAK,SAAS,CAAC,+BAAf,wBACE,aAAK,SAAS,CAAC,MAAf,wBACE,4BADF,cAEE,KAAC,SAAD,EACE,KAAK,CAAE7C,aAAa,CAACJ,IADvB,CAEE,SAAS,KAFX,CAGE,KAAK,CAAC,EAHR,CAIE,OAAO,CAAC,UAJV,CAKE,IAAI,CAAC,OALP,CAME,QAAQ,KANV,EAFF,GADF,cAYE,aAAK,SAAS,CAAC,MAAf,wBACE,iCADF,CACqB,GADrB,cAEE,KAAC,SAAD,EACE,KAAK,CAAEI,aAAa,CAACF,QADvB,CAEE,SAAS,KAFX,CAGE,KAAK,CAAC,EAHR,CAIE,OAAO,CAAC,UAJV,CAKE,IAAI,CAAC,OALP,CAME,QAAQ,KANV,EAFF,GAZF,cAuBE,oCACE,+BADF,cAEE,KAAC,SAAD,EACE,KAAK,CAAC,SADR,CAEE,SAAS,KAFX,CAGE,KAAK,CAAEE,aAAa,CAACD,OAHvB,CAIE,OAAO,CAAC,UAJV,CAKE,IAAI,CAAC,OALP,CAME,IAAI,CAAC,SANP,CAOE,QAAQ,CAAE,kBAACuD,CAAD,QACRrD,CAAAA,gBAAgB,gCAAMD,aAAN,MAAqBD,OAAO,CAAEuD,CAAC,CAACC,MAAF,CAASC,KAAvC,GADR,EAPZ,EAFF,GAvBF,GADF,cAuCE,aAAK,SAAS,CAAC,oBAAf,wBACE,oCADF,cAEE,aAAK,SAAS,CAAC,2BAAf,wBACE,KAAC,YAAD,EACE,EAAE,CAAC,gBADL,CAEE,OAAO,CAAEhE,WAFX,CAGE,SAAS,KAHX,CAIE,IAAI,CAAC,OAJP,CAKE,cAAc,CAAE,wBAACiE,MAAD,QAAYA,CAAAA,MAAM,CAACC,YAAnB,EALlB,CAME,KAAK,CAAEhE,eANT,CAOE,QAAQ,CAAE,kBAAC4D,CAAD,CAAIE,KAAJ,QAAc7D,CAAAA,kBAAkB,CAAC6D,KAAD,CAAhC,EAPZ,CAQE,WAAW,CAAE,qBAACG,MAAD,qBACX,KAAC,SAAD,gCACMA,MADN,MAEE,OAAO,CAAE,iBAACL,CAAD,CAAO,CACd7E,QAAQ,CAAC2D,cAAc,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAiB,GAAjB,CAAf,CAAR,CACD,CAJH,CAKE,KAAK,CAAC,EALR,CAME,OAAO,CAAC,UANV,GADW,EARf,EADF,CAoBG,CAACtE,iBAAD,EAAsBQ,eAAtB,eACC,KAAC,MAAD,EACE,KAAK,CAAC,SADR,CAEE,SAAS,CAAC,WAFZ,CAGE,gBAAgB,KAHlB,CAIE,OAAO,CAAC,WAJV,CAKE,OAAO,CAAEwB,mBALX,qBArBJ,GAFF,GAvCF,GADF,cA4EE,aA5EF,CA6EGhC,iBAAiB,eAChB,KAAC,WAAD,EACE,aAAa,CAAEF,mBADjB,CAEE,OAAO,CAAEiD,mBAFX,CAGE,GAAG,CAAE,WAHP,CAIE,MAAM,CAAC,MAJT,CAKE,OAAO,CAAE,CAAEc,UAAU,CAAErD,eAAF,SAAEA,eAAF,iBAAEA,eAAe,CAAEqD,UAA/B,CALX,CAME,OAAO,CAAC,MANV,CAOE,aAAa,CAAE7B,mBAPjB,CAQE,QAAQ,CAAEG,mBARZ,EA9EJ,CA0FGrC,mBAAmB,CAAC4B,MAApB,CAA6B,CAA7B,eACC,KAAC,WAAD,EACE,OAAO,CAAEqB,mBADX,CAEE,IAAI,CAAEjD,mBACN;AAHF,EA3FJ,CAkGGI,YAAY,EACXA,YAAY,CAACkB,MAAb,CAAoBM,MAApB,CAA6B,CAD9B,EAECT,OAAO,CAACI,GAAR,CAAY,SAACqD,GAAD,CAAMxC,KAAN,CAAgB,CAC1B,mBACE,aAAK,SAAS,CAAC,oBAAf,wBACE,aAAK,SAAS,CAAC,QAAf,wBACE,YAAI,SAAS,CAAC,YAAd,sBAAoCA,KAAK,CAAG,CAA5C,GADF,cAEE,aAAK,SAAS,CAAC,UAAf,WACG9B,YAAY,GAAK8B,KAAjB,eACC,KAAC,MAAD,EACE,KAAK,CAAC,SADR,CAEE,SAAS,CAAC,MAFZ,CAGE,gBAAgB,KAHlB,CAIE,OAAO,CAAC,WAJV,CAKE,OAAO,CAAE,yBAAMD,CAAAA,cAAc,CAACC,KAAD,CAApB,EALX,uBAFJ,cAaE,KAAC,MAAD,EACE,KAAK,CAAC,SADR,CAEE,SAAS,CAAC,cAFZ,CAGE,gBAAgB,KAHlB,CAIE,OAAO,CAAC,WAJV,CAKE,OAAO,CAAE,yBAAMK,CAAAA,SAAS,CAACL,KAAD,CAAf,EALX,wBAbF,GAFF,GADF,cA2BE,aA3BF,CA4BG9B,YAAY,GAAK8B,KAAjB,eACC,KAAC,WAAD,EACE,aAAa,CAAEwC,GAAG,CAAC1D,KADrB,CAEE,OAAO,CAAE2B,cAFX,CAGE,GAAG,CAAE,eAHP,CAIE,MAAM,CAAC,MAJT,CAKE,OAAO,CAAEzC,YALX,CAME,OAAO,CAAC,MANV,CAOE,aAAa,CAAE,+BAAM+B,CAAAA,cAAc,CAAC,IAAD,CAApB,EAPjB,CAQE,QAAQ,CAAE,kBAACG,IAAD,QAAUC,CAAAA,aAAa,CAACD,IAAD,CAAOF,KAAP,CAAvB,EARZ,EA7BJ,CAwCGwC,GAAG,CAAC1D,KAAJ,CAAUU,MAAV,CAAmB,CAAnB,EAAwBtB,YAAY,GAAK8B,KAAzC,eACC,KAAC,WAAD,EACE,OAAO,CAAES,cADX,CAEE,IAAI,CAAE+B,GAAG,CAAC1D,KAFZ,CAGE,QAAQ,CAAE,kBAACM,IAAD,QAAUmC,CAAAA,cAAc,CAACnC,IAAD,CAAOY,KAAP,CAAxB,EAHZ,EAzCJ,GAAyCA,KAAzC,CADF,CAkDD,CAnDD,CApGJ,CAyJGpC,mBAAmB,CAAC4B,MAApB,CAA6B,CAA7B,eACC,YAAK,SAAS,CAAC,kBAAf,uBACE,MAAC,GAAD,EACE,OAAO,CAAC,UADV,CAEE,OAAO,CAAEgB,MAFX,CAGE,IAAI,CAAC,QAHP,CAIE,KAAK,CAAC,SAJR,CAKE,aAAW,KALb,wBAOE,KAAC,OAAD,IAPF,aADF,EA1JJ,cAuKE,aAvKF,cAwKE,aAAK,SAAS,CAAC,uBAAf,wBACE,KAAC,MAAD,EACE,KAAK,CAAC,SADR,CAEE,SAAS,CAAC,MAFZ,CAGE,gBAAgB,KAHlB,CAIE,OAAO,CAAC,WAJV,CAKE,OAAO,CAAEiB,QALX,kBADF,cAUE,KAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,gBAAgB,KAAxC,CAAyC,OAAO,CAAC,WAAjD,oBAVF,GAxKF,GADF,CAyLD,CArdD,CAudA,cAAe9D,CAAAA,cAAf","sourcesContent":["import { Button, Fab } from \"@material-ui/core\";\nimport { Autocomplete, TextField } from \"@mui/material\";\n\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\nimport { SimpleTable } from \"../../components/basic-table\";\nimport {\n  debounce,\n  showErrorToast,\n  showSuccessToast,\n} from \"../../components/common\";\nimport { TablePicker } from \"../../components/table-picker\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { CommonController } from \"../../_redux/controller/common.controller\";\n\nconst NewDCPackaging = () => {\n  const [selectedPackingList, setSelectedPackingList] = useState([]);\n  const [showPackagingList, setShowPackagingList] = useState(false);\n  const [itemListBody, setItemListBody] = useState(null);\n  const [showItemList, setShowItemList] = useState(null);\n  const [companyList, setCompanyList] = useState([]);\n  const [selectedCompany, setSelectedCompany] = useState(null);\n\n  const [initialValues, setInitialValues] = useState({\n    date: moment().format(\"DD/MM/YYYY\"),\n    entry_no: \"\",\n    remarks: \"\",\n  });\n  const [boxList, setBoxList] = useState([\n    {\n      items: [],\n    },\n  ]);\n\n  useEffect(() => {\n    getEntryNo();\n  }, []);\n  useEffect(() => {\n    setItemListBody({\n      dcList: selectedPackingList.map((item) => ({ id: item.tran_id })),\n      itemList: [],\n    });\n  }, [selectedPackingList]);\n\n  useEffect(() => {\n    if (boxList.length > 1) {\n      let iList = [];\n      boxList.forEach((x) => {\n        iList.push.apply(iList, x.items);\n      });\n\n      setItemListBody({\n        dcList: selectedPackingList.map((item) => ({ id: item.tran_id })),\n        itemList: iList,\n      });\n    }\n  }, [boxList]);\n\n  const togglePackagingList = () => setShowPackagingList(!showPackagingList);\n  const toggleItemList = (index) => setShowItemList(index);\n\n  const handlePackagingList = (data) => {\n    setSelectedPackingList(data);\n    togglePackagingList();\n  };\n\n  const handleIemList = (data, index) => {\n    let tempBox = [...boxList];\n    tempBox[index].items = data;\n    setBoxList(tempBox);\n    toggleItemList(null);\n  };\n\n  const removeBox = (index) => {\n    setBoxList(boxList.filter((item, _) => _ !== index));\n  };\n\n  const addBox = () => {\n    setBoxList([\n      ...boxList,\n      {\n        items: [],\n      },\n    ]);\n  };\n\n  const itemListColumn = [\n    {\n      id: \"tran_id\",\n      numeric: false,\n      disablePadding: true,\n      label: \"ID\",\n    },\n    {\n      id: \"mlfb_no\",\n      numeric: false,\n      disablePadding: true,\n      label: \"MLFB No.\",\n    },\n    {\n      id: \"dc_no\",\n      numeric: false,\n      disablePadding: true,\n      label: \"DC No.\",\n    },\n    {\n      id: \"item_name\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Item Name\",\n    },\n    {\n      id: \"description\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Description\",\n    },\n\n    {\n      id: \"qty\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Quantity\",\n    },\n    {\n      id: \"serial_no\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Serial No.\",\n    },\n  ];\n\n  const packagingListColumn = [\n    {\n      id: \"tran_id\",\n      numeric: false,\n      disablePadding: true,\n      label: \"ID\",\n    },\n    {\n      id: \"date\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Date\",\n      dateFormat: true,\n    },\n    {\n      id: \"dc_no\",\n      numeric: false,\n      disablePadding: true,\n      label: \"DC No.\",\n    },\n    {\n      id: \"Company\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Company\",\n    },\n    {\n      id: \"Contact\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Contact\",\n    },\n    {\n      id: \"so_no\",\n      numeric: false,\n      disablePadding: true,\n      label: \"SO No.\",\n    },\n    {\n      id: \"dispatch_through\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Dispatch Through\",\n    },\n    {\n      id: \"Destination\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Destination\",\n    },\n    {\n      id: \"datetime\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Datetime\",\n      dateFormat: true,\n    },\n    {\n      id: \"status\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Status\",\n    },\n    {\n      id: \"comments\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Comments\",\n    },\n    {\n      id: \"remarks\",\n      numeric: false,\n      disablePadding: true,\n      label: \"Remarks\",\n      flex: 1,\n    },\n    {\n      id: \"di_no\",\n      numeric: false,\n      disablePadding: true,\n      label: \"DI No.\",\n    },\n  ];\n\n  const getCompanyList = async (search) => {\n    try {\n      let response = await CommonController.commonApiCallFilter(\n        \"dc/pickCompany\",\n        { search: search },\n        \"get\",\n        \"node\"\n      );\n\n      if (response.status === 200) {\n        setCompanyList(response.result);\n      } else {\n        showErrorToast(response.message);\n      }\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n\n  const deletePickItem = (item, index) => {\n    let tempBoxList = [...boxList];\n    tempBoxList[index].items = tempBoxList[index].items.filter(\n      (x) => x.tran_id !== item.tran_id\n    );\n\n    setBoxList(tempBoxList);\n  };\n\n  const getEntryNo = async () => {\n    try {\n      let response = await CommonController.commonApiCallFilter(\n        \"dc/generateDCNo\",\n        {},\n        \"get\",\n        \"node\"\n      );\n\n      if (response.status === 200) {\n        setInitialValues({ ...initialValues, entry_no: response.data });\n      } else {\n        showErrorToast(response.message);\n      }\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n\n  const submitDC = async () => {\n    try {\n      if (initialValues.remarks === \"\") {\n        showErrorToast(\"Please enter remarks\");\n      } else if (boxList.filter((x) => x.items.length < 1).length > 0) {\n        showErrorToast(\"Please choose items for box\");\n      } else if (selectedPackingList.length < 1) {\n        showErrorToast(\"Please choose dc packaging\");\n      } else {\n        const body = {\n          tran_id: \"0\",\n          date: initialValues.date,\n          entry_no: initialValues.entry_no,\n          company_id: selectedCompany.company_id,\n          remarks: initialValues.remarks,\n          boxList: boxList,\n          user_id: localStorage.getItem(\"userId\"),\n        };\n        let response = await CommonController.commonApiCallFilter(\n          \"dc/insertDc\",\n          body,\n          \"post\",\n          \"node\"\n        );\n\n        if (response.status === 200) {\n          showSuccessToast(response.message);\n          window.location.reload();\n        } else {\n          showErrorToast(response.message);\n        }\n      }\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n  return (\n    <div className=\"container-fluid mt-5 pt-5\">\n      <div className=\"row\">\n        <div className=\"entry-details d-flex col-md-6\">\n          <div className=\"mr-3\">\n            <h5>Date</h5>\n            <TextField\n              value={initialValues.date}\n              fullWidth\n              label=\"\"\n              variant=\"outlined\"\n              size=\"small\"\n              disabled\n            />\n          </div>\n          <div className=\"mr-3\">\n            <h5>Entry No.</h5>{\" \"}\n            <TextField\n              value={initialValues.entry_no}\n              fullWidth\n              label=\"\"\n              variant=\"outlined\"\n              size=\"small\"\n              disabled\n            />\n          </div>\n          <div>\n            <h5>Remarks</h5>\n            <TextField\n              label=\"Remarks\"\n              fullWidth\n              value={initialValues.remarks}\n              variant=\"outlined\"\n              size=\"small\"\n              name=\"remarks\"\n              onChange={(e) =>\n                setInitialValues({ ...initialValues, remarks: e.target.value })\n              }\n            />\n          </div>\n        </div>\n        <div className=\"col-md-4  ml-auto \">\n          <h5>Pick Company</h5>\n          <div className=\"d-flex align-items-center\">\n            <Autocomplete\n              id=\"combo-box-demo\"\n              options={companyList}\n              fullWidth\n              size=\"small\"\n              getOptionLabel={(option) => option.company_name}\n              value={selectedCompany}\n              onChange={(e, value) => setSelectedCompany(value)}\n              renderInput={(params) => (\n                <TextField\n                  {...params}\n                  onInput={(e) => {\n                    debounce(getCompanyList(e.target.value, 200));\n                  }}\n                  label=\"\"\n                  variant=\"outlined\"\n                />\n              )}\n            />\n            {!showPackagingList && selectedCompany && (\n              <Button\n                color=\"primary\"\n                className=\"mx-3 w-25\"\n                disableElevation\n                variant=\"contained\"\n                onClick={togglePackagingList}\n              >\n                Pick DC\n              </Button>\n            )}\n          </div>\n        </div>\n      </div>\n      <hr />\n      {showPackagingList && (\n        <TablePicker\n          selectedItems={selectedPackingList}\n          columns={packagingListColumn}\n          url={\"dc/pickDC\"}\n          isNode=\"node\"\n          apiBody={{ company_id: selectedCompany?.company_id }}\n          apiType=\"post\"\n          onPickerClose={togglePackagingList}\n          onSubmit={handlePackagingList}\n        />\n      )}\n\n      {selectedPackingList.length > 0 && (\n        <SimpleTable\n          columns={packagingListColumn}\n          rows={selectedPackingList}\n          // onDelete={handleAddedCustomer}\n        />\n      )}\n\n      {itemListBody &&\n        itemListBody.dcList.length > 0 &&\n        boxList.map((box, index) => {\n          return (\n            <div className=\"box-list mt-5 pt-5\" key={index}>\n              <div className=\"d-flex\">\n                <h2 className=\"box-header\">Box no. {index + 1}</h2>\n                <div className=\" ml-auto\">\n                  {showItemList !== index && (\n                    <Button\n                      color=\"primary\"\n                      className=\"mr-2\"\n                      disableElevation\n                      variant=\"contained\"\n                      onClick={() => toggleItemList(index)}\n                    >\n                      Pick Item\n                    </Button>\n                  )}\n\n                  <Button\n                    color=\"primary\"\n                    className=\"mr-2 ml-auto\"\n                    disableElevation\n                    variant=\"contained\"\n                    onClick={() => removeBox(index)}\n                  >\n                    Remove Box\n                  </Button>\n                </div>\n              </div>\n              <hr />\n              {showItemList === index && (\n                <TablePicker\n                  selectedItems={box.items}\n                  columns={itemListColumn}\n                  url={\"dc/pickDCItem\"}\n                  isNode=\"node\"\n                  apiBody={itemListBody}\n                  apiType=\"post\"\n                  onPickerClose={() => toggleItemList(null)}\n                  onSubmit={(data) => handleIemList(data, index)}\n                />\n              )}\n              {box.items.length > 0 && showItemList !== index && (\n                <SimpleTable\n                  columns={itemListColumn}\n                  rows={box.items}\n                  onDelete={(item) => deletePickItem(item, index)}\n                />\n              )}\n            </div>\n          );\n        })}\n\n      {selectedPackingList.length > 0 && (\n        <div className=\"float-action-btn\">\n          <Fab\n            variant=\"extended\"\n            onClick={addBox}\n            size=\"medium\"\n            color=\"primary\"\n            aria-label=\"add\"\n          >\n            <AddIcon />\n            Add Box\n          </Fab>\n        </div>\n      )}\n      <hr />\n      <div className=\"w-100 mt-3 text-right\">\n        <Button\n          color=\"primary\"\n          className=\"mr-2\"\n          disableElevation\n          variant=\"contained\"\n          onClick={submitDC}\n        >\n          Save\n        </Button>\n        <Button color=\"primary\" disableElevation variant=\"contained\">\n          Cancel\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default NewDCPackaging;\n"]},"metadata":{},"sourceType":"module"}