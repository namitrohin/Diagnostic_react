{"ast":null,"code":"import _regeneratorRuntime from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{TextField,Button}from\"@material-ui/core\";import{Autocomplete}from\"@material-ui/lab\";import{DatePicker}from\"@material-ui/pickers\";import React,{useEffect,useState}from\"react\";import SimpleReactValidator from\"simple-react-validator\";import{buttonLoader,showErrorToast,showSuccessToast}from\"../../../components/common\";import{CommonController}from\"../../../_redux/controller/common.controller\";import{SimpleTable}from\"../../../components/basic-table\";import useForceUpdate from\"use-force-update\";import moment from\"moment\";import{useSelector}from\"react-redux\";import{Loader}from\"../../../components/loader\";import{selectedGodownId}from\"../../../_redux/actions/masters/all.action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddGodown=function AddGodown(_ref){var onClose=_ref.onClose;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var selectedIdResponse=useSelector(function(state){return state.AllReducersMaster.godownId;});var _useState3=useState(new SimpleReactValidator()),_useState4=_slicedToArray(_useState3,2),validator=_useState4[0],setValidator=_useState4[1];var forceUpdate=useForceUpdate();var _useState5=useState({godown_id:\"0\",godown_name:\"\",address:\"\",user_id:\"\"}),_useState6=_slicedToArray(_useState5,2),insertParams=_useState6[0],setInsertParams=_useState6[1];useEffect(function(){if(selectedIdResponse){CommonController.commonApiCallFilter(\"Godown/GodownMasterPreview\",{godown_id:selectedIdResponse}).then(function(data){if(data.godown_id){setInsertParams(_objectSpread(_objectSpread({},insertParams),{},{godown_id:data.godown_id,godown_name:data.godown_name,address:data.address}));}else{showErrorToast(\"Something went wrong\");}});}},[selectedIdResponse]);var insertCombo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(validator.allValid()){setLoading(true);CommonController.commonApiCallFilter(\"Godown/GodownMasterInsert\",insertParams).then(function(data){if(data.valid){showSuccessToast(\"Successfully Saved\");setLoading(false);}else{showErrorToast(\"Something went wrong\");}});}else{validator.showMessages();// rerender to show messages for the first time\n// you can use the autoForceUpdate option to do this automatically`\nforceUpdate();}case 1:case\"end\":return _context.stop();}}},_callee);}));return function insertCombo(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-5 pt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",fullWidth:true,size:\"small\",label:\"Godown Name*\",value:insertParams.godown_name,onChange:function onChange(event){setInsertParams(_objectSpread(_objectSpread({},insertParams),{},{godown_name:event.target.value}));}}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:validator.message(\"Godown Name\",insertParams.godown_name,\"required\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",fullWidth:true,size:\"small\",multiline:true,label:\"Address\",value:insertParams.address,onChange:function onChange(event){setInsertParams(_objectSpread(_objectSpread({},insertParams),{},{address:event.target.value}));}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-right mt-4\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return onClose();},variant:\"contained\",className:\"mr-2\",color:\"primary\",disableElevation:true,children:\"Cancel\"}),buttonLoader(loading,\"Save\",insertCombo,\"primary\")]})]});};export default AddGodown;","map":{"version":3,"sources":["F:/React code/diagnostic/src/pages/Master/godown/addEntry.js"],"names":["TextField","Button","Autocomplete","DatePicker","React","useEffect","useState","SimpleReactValidator","buttonLoader","showErrorToast","showSuccessToast","CommonController","SimpleTable","useForceUpdate","moment","useSelector","Loader","selectedGodownId","AddGodown","onClose","loading","setLoading","selectedIdResponse","state","AllReducersMaster","godownId","validator","setValidator","forceUpdate","godown_id","godown_name","address","user_id","insertParams","setInsertParams","commonApiCallFilter","then","data","insertCombo","allValid","valid","showMessages","event","target","value","message"],"mappings":"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","sourcesContent":["import { TextField, Button } from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { DatePicker } from \"@material-ui/pickers\";\nimport React, { useEffect, useState } from \"react\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  buttonLoader,\n  showErrorToast,\n  showSuccessToast,\n} from \"../../../components/common\";\nimport { CommonController } from \"../../../_redux/controller/common.controller\";\nimport { SimpleTable } from \"../../../components/basic-table\";\nimport useForceUpdate from \"use-force-update\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\nimport { Loader } from \"../../../components/loader\";\nimport { selectedGodownId } from \"../../../_redux/actions/masters/all.action\";\n\nconst AddGodown = ({ onClose }) => {\n  const [loading, setLoading] = useState(false);\n  const selectedIdResponse = useSelector(\n    (state) => state.AllReducersMaster.godownId\n  );\n  const [validator, setValidator] = useState(new SimpleReactValidator());\n\n  const forceUpdate = useForceUpdate();\n\n  const [insertParams, setInsertParams] = useState({\n    godown_id: \"0\",\n    godown_name: \"\",\n    address: \"\",\n    user_id: \"\",\n  });\n\n  useEffect(() => {\n    if (selectedIdResponse) {\n      CommonController.commonApiCallFilter(\"Godown/GodownMasterPreview\", {\n        godown_id: selectedIdResponse,\n      }).then((data) => {\n        if (data.godown_id) {\n          setInsertParams({\n            ...insertParams,\n            godown_id: data.godown_id,\n            godown_name: data.godown_name,\n            address: data.address,\n          });\n        } else {\n          showErrorToast(\"Something went wrong\");\n        }\n      });\n    }\n  }, [selectedIdResponse]);\n\n  const insertCombo = async () => {\n    if (validator.allValid()) {\n      setLoading(true);\n      CommonController.commonApiCallFilter(\n        \"Godown/GodownMasterInsert\",\n        insertParams\n      ).then((data) => {\n        if (data.valid) {\n          showSuccessToast(\"Successfully Saved\");\n          setLoading(false);\n        } else {\n          showErrorToast(\"Something went wrong\");\n        }\n      });\n    } else {\n      validator.showMessages();\n      // rerender to show messages for the first time\n      // you can use the autoForceUpdate option to do this automatically`\n      forceUpdate();\n    }\n  };\n\n  return (\n    <div className=\"container-fluid mt-5 pt-5\">\n      {/* {loading && <Loader />} */}\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <TextField\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            label=\"Godown Name*\"\n            value={insertParams.godown_name}\n            onChange={(event) => {\n              setInsertParams({\n                ...insertParams,\n                godown_name: event.target.value,\n              });\n            }}\n          />\n          <p className=\"text-danger\">\n            {validator.message(\n              \"Godown Name\",\n              insertParams.godown_name,\n              \"required\"\n            )}\n          </p>\n        </div>\n        <div className=\"col-md-6\">\n          <TextField\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            multiline\n            label=\"Address\"\n            value={insertParams.address}\n            onChange={(event) => {\n              setInsertParams({ ...insertParams, address: event.target.value });\n            }}\n          />\n        </div>\n      </div>\n      <div className=\"w-100 text-right mt-4\">\n        <Button\n          onClick={() => onClose()}\n          variant=\"contained\"\n          className=\"mr-2\"\n          color=\"primary\"\n          disableElevation\n        >\n          Cancel\n        </Button>\n        {buttonLoader(loading, \"Save\", insertCombo, \"primary\")}\n      </div>\n    </div>\n  );\n};\n\nexport default AddGodown;\n"]},"metadata":{},"sourceType":"module"}