{"ast":null,"code":"import _objectSpread from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Redirect,Switch}from\"react-router-dom\";import CustomBreadcrumb from\"../components/breadcrumbs\";import Header from\"../components/header\";import RouteWithSubRoutes from\"../components/RouteWithSubRoutes\";import Sidebar from\"../components/sidebar\";import routes from\"../routes\";import{getUserFilterList,getUserRightList}from\"../_redux/actions/common.action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainLayout=function MainLayout(){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showSideBar=_useState2[0],setShowSidebar=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),pinSidebar=_useState4[0],setPinSidebar=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userRightListArr=_useState6[0],setUserRightList=_useState6[1];var getuserRightListResponse=useSelector(function(state){return state.common.userRightList;});var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),subMenuList=_useState8[0],setSubMenuList=_useState8[1];var _useState9=useState({main:null,subMenu:null}),_useState10=_slicedToArray(_useState9,2),selectedItems=_useState10[0],setSelectedItems=_useState10[1];useEffect(function(){dispatch(getUserRightList());// dispatch(getUserFilterList());\n},[]);var groupBy=function groupBy(array,key){// Return the end result\nreturn array.reduce(function(result,currentValue){// If an array already present for key, push it to the array. Else create an array and push the object\n(result[currentValue[key]]=result[currentValue[key]]||[]).push(currentValue);// Return the current iteration `result` value, this will be taken as next iteration `result` value and accumulate\nreturn result;},{});// empty object is the initial value for result object\n};useEffect(function(){if((getuserRightListResponse===null||getuserRightListResponse===void 0?void 0:getuserRightListResponse.length)>0){var groupedMenu=groupBy(getuserRightListResponse,\"group_name\");setUserRightList(getuserRightListResponse);}},[getuserRightListResponse]);var handleMenuChange=function handleMenuChange(id){var tempMenuIndex=userRightListArr.findIndex(function(x){return x.menu_id===id;});if(tempMenuIndex>-1){setSubMenuList(userRightListArr[tempMenuIndex].transaction_lst);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-frame\",children:[/*#__PURE__*/_jsx(Header,{onHeaderClick:function onHeaderClick(){return setShowSidebar(!showSideBar);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(CustomBreadcrumb,{}),/*#__PURE__*/_jsxs(Switch,{children:[routes.map(function(route,i){return/*#__PURE__*/_jsx(RouteWithSubRoutes,_objectSpread({},route),i);}),/*#__PURE__*/_jsx(Redirect,{from:\"/\",to:\"/dashboard\"})]})]})]});};export default MainLayout;","map":{"version":3,"sources":["F:/React code/diagnostic/src/layouts/layout.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Redirect","Switch","CustomBreadcrumb","Header","RouteWithSubRoutes","Sidebar","routes","getUserFilterList","getUserRightList","MainLayout","dispatch","showSideBar","setShowSidebar","pinSidebar","setPinSidebar","userRightListArr","setUserRightList","getuserRightListResponse","state","common","userRightList","subMenuList","setSubMenuList","main","subMenu","selectedItems","setSelectedItems","groupBy","array","key","reduce","result","currentValue","push","length","groupedMenu","handleMenuChange","id","tempMenuIndex","findIndex","x","menu_id","transaction_lst","map","route","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect, Switch } from \"react-router-dom\";\r\nimport CustomBreadcrumb from \"../components/breadcrumbs\";\r\nimport Header from \"../components/header\";\r\nimport RouteWithSubRoutes from \"../components/RouteWithSubRoutes\";\r\nimport Sidebar from \"../components/sidebar\";\r\nimport routes from \"../routes\";\r\nimport {\r\n  getUserFilterList,\r\n  getUserRightList,\r\n} from \"../_redux/actions/common.action\";\r\n\r\nconst MainLayout = () => {\r\n  const dispatch = useDispatch();\r\n  const [showSideBar, setShowSidebar] = useState(false);\r\n  const [pinSidebar, setPinSidebar] = useState(false);\r\n\r\n  const [userRightListArr, setUserRightList] = useState([]);\r\n  const getuserRightListResponse = useSelector(\r\n    (state) => state.common.userRightList\r\n  );\r\n\r\n  const [subMenuList, setSubMenuList] = useState([]);\r\n  const [selectedItems, setSelectedItems] = useState({\r\n    main: null,\r\n    subMenu: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserRightList());\r\n    // dispatch(getUserFilterList());\r\n  }, []);\r\n\r\n  const groupBy = (array, key) => {\r\n    // Return the end result\r\n    return array.reduce((result, currentValue) => {\r\n      // If an array already present for key, push it to the array. Else create an array and push the object\r\n      (result[currentValue[key]] = result[currentValue[key]] || []).push(\r\n        currentValue\r\n      );\r\n      // Return the current iteration `result` value, this will be taken as next iteration `result` value and accumulate\r\n      return result;\r\n    }, {}); // empty object is the initial value for result object\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getuserRightListResponse?.length > 0) {\r\n      const groupedMenu = groupBy(getuserRightListResponse, \"group_name\");\r\n\r\n      setUserRightList(getuserRightListResponse);\r\n    }\r\n  }, [getuserRightListResponse]);\r\n\r\n  const handleMenuChange = (id) => {\r\n    var tempMenuIndex = userRightListArr.findIndex((x) => x.menu_id === id);\r\n    if (tempMenuIndex > -1) {\r\n      setSubMenuList(userRightListArr[tempMenuIndex].transaction_lst);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-frame\">\r\n      <Header onHeaderClick={() => setShowSidebar(!showSideBar)} />\r\n      <div className=\"mt-5\">\r\n        <CustomBreadcrumb />\r\n        <Switch>\r\n          {routes.map((route, i) => (\r\n            <RouteWithSubRoutes key={i} {...route} />\r\n          ))}\r\n          <Redirect from=\"/\" to=\"/dashboard\" />\r\n        </Switch>\r\n      </div>\r\n\r\n      {/* <div className=\"container-fluid p-0\">\r\n        <div className=\"row\">\r\n          <div className={pinSidebar ? \"col-md-2\" : \"sidebar-fixed\"}>\r\n            <Sidebar menuList={userRightListArr} show={showSideBar} />\r\n          </div>\r\n\r\n          <div className={pinSidebar ? \"col-md-10\" : \"col-md-12\"}>\r\n            <Header onHeaderClick={() => setShowSidebar(!showSideBar)} />\r\n            <CustomBreadcrumb />\r\n            <Switch>\r\n              {routes.map((route, i) => (\r\n                <RouteWithSubRoutes key={i} {...route} />\r\n              ))}\r\n              <Redirect from=\"/\" to=\"/dashboard\" />\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainLayout;\r\n"]},"metadata":{},"sourceType":"module"}