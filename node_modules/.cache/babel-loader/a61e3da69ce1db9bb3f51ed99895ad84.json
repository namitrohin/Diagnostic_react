{"ast":null,"code":"import _defineProperty from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import GeneralProduct from\"./general\";import{Button}from\"@material-ui/core\";import OtherInformation from\"./other\";import{useSelector}from\"react-redux\";import{CommonController}from\"../../../_redux/controller/common.controller\";import{showErrorToast,showSuccessToast}from\"../../../components/common\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddNewProduct=function AddNewProduct(){var selectedIdResponse=useSelector(function(state){return state.AllReducersMaster.productId;});var _useState=useState(0),_useState2=_slicedToArray(_useState,2),selectedTab=_useState2[0],setSelectedTab=_useState2[1];var _useState3=useState({product_id:\"\",product_code:\"\",category_id:\"\",category_name:\" \",p_group_name:\"\",p_group_id:\"\",item_id:\"\",item_name:\"\",gg_id:\"\",description:\" \",mlfb_no:\"\",grade:\"\",tax_rate:\"\",uom_id:\"\",uom:\"\",package:\"\",qty:\"\",list_price:\"\",margin:\"\",pur_rate:\"\",reorder_level:\"\",lp_ref:\"\",di:\"\",di_value:\"\",ai:\"\",ai_value:\"\",fc:\"\",fc_value:\"\",do:\"\",do_value:\"\",ao:\"\",ao_value:\"\",fm:\"\",fm_value:\"\",edit:\"0\",deactivate:\"0\",serial:\"1\",siemens_product:\"0\",user_id:localStorage.getItem(\"userId\"),user_name:\"\"}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var handleChange=function handleChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var handleCheckChange=function handleCheckChange(key,value){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},key,value?\"True\":\"False\")));};var handleAutoChange=function handleAutoChange(key1,key2,value){var _objectSpread4;console.log(key1,key2,value);setFormData(_objectSpread(_objectSpread({},formData),{},(_objectSpread4={},_defineProperty(_objectSpread4,key1,value.id),_defineProperty(_objectSpread4,key2,value.value),_objectSpread4)));};var onNext=function onNext(){if(selectedTab===0){setSelectedTab(1);}else{onSubmit();}};var onSubmit=function onSubmit(){CommonController.commonApiCallFilter(\"Product/ProductMasterInsert\",formData).then(function(data){if(data.valid){showSuccessToast(selectedIdResponse?\"Product updated successfully\":\"Product inserted successfully\");}else{showErrorToast(\"something went wrong\");}}).catch(function(err){return showErrorToast(\"something went wrong\");});};var onBack=function onBack(){setSelectedTab(0);};useEffect(function(){if(selectedIdResponse){CommonController.commonApiCallFilter(\"Product/PreviewProductMaster\",{product_id:selectedIdResponse}).then(function(data){// setFormData(data);\nvar tempData=_objectSpread({},formData);for(var key in formData){if(data.hasOwnProperty(key)){tempData[key]=data[key];}}setFormData(tempData);}).catch(function(err){showErrorToast(err);});}},[selectedIdResponse]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-5\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"nav nav-tabs nav-tabs-line\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link \"+(selectedTab===0?\"active\":\"\"),onChange:function onChange(){return setSelectedTab(0);},children:\"General Information\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link \"+(selectedTab===1?\"active\":\"\"),onChange:function onChange(){return setSelectedTab(1);},children:\"Technical Information\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content mt-10\",children:[selectedTab===0&&/*#__PURE__*/_jsx(GeneralProduct,{formData:formData,handleChange:handleChange,handleAutoChange:handleAutoChange,handleCheckChange:handleCheckChange}),selectedTab===1&&/*#__PURE__*/_jsx(OtherInformation,{formData:formData,handleChange:handleChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-right\",children:[selectedTab===1&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:onBack,className:\"mr-3\",color:\"primary\",disableElevation:true,children:\"Back\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:onNext,color:\"primary\",disableElevation:true,children:selectedTab===1?\"Submit\":\"Next\"})]})]})]});};export default AddNewProduct;","map":{"version":3,"sources":["F:/React code/diagnostic/src/pages/Master/Product/addProduct.js"],"names":["React","useEffect","useState","GeneralProduct","Button","OtherInformation","useSelector","CommonController","showErrorToast","showSuccessToast","AddNewProduct","selectedIdResponse","state","AllReducersMaster","productId","selectedTab","setSelectedTab","product_id","product_code","category_id","category_name","p_group_name","p_group_id","item_id","item_name","gg_id","description","mlfb_no","grade","tax_rate","uom_id","uom","package","qty","list_price","margin","pur_rate","reorder_level","lp_ref","di","di_value","ai","ai_value","fc","fc_value","do","do_value","ao","ao_value","fm","fm_value","edit","deactivate","serial","siemens_product","user_id","localStorage","getItem","user_name","formData","setFormData","handleChange","e","target","name","value","handleCheckChange","key","handleAutoChange","key1","key2","console","log","id","onNext","onSubmit","commonApiCallFilter","then","data","valid","catch","err","onBack","tempData","hasOwnProperty"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport GeneralProduct from \"./general\";\nimport { Button } from \"@material-ui/core\";\nimport OtherInformation from \"./other\";\nimport { useSelector } from \"react-redux\";\nimport { CommonController } from \"../../../_redux/controller/common.controller\";\nimport { showErrorToast, showSuccessToast } from \"../../../components/common\";\n\nconst AddNewProduct = () => {\n  const selectedIdResponse = useSelector(\n    (state) => state.AllReducersMaster.productId\n  );\n  const [selectedTab, setSelectedTab] = useState(0);\n\n  const [formData, setFormData] = useState({\n    product_id: \"\",\n    product_code: \"\",\n    category_id: \"\",\n    category_name: \" \",\n    p_group_name: \"\",\n    p_group_id: \"\",\n    item_id: \"\",\n    item_name: \"\",\n    gg_id: \"\",\n    description: \" \",\n    mlfb_no: \"\",\n    grade: \"\",\n    tax_rate: \"\",\n    uom_id: \"\",\n    uom: \"\",\n    package: \"\",\n    qty: \"\",\n    list_price: \"\",\n    margin: \"\",\n    pur_rate: \"\",\n    reorder_level: \"\",\n    lp_ref: \"\",\n    di: \"\",\n    di_value: \"\",\n    ai: \"\",\n    ai_value: \"\",\n    fc: \"\",\n    fc_value: \"\",\n    do: \"\",\n    do_value: \"\",\n    ao: \"\",\n    ao_value: \"\",\n    fm: \"\",\n    fm_value: \"\",\n    edit: \"0\",\n    deactivate: \"0\",\n    serial: \"1\",\n    siemens_product: \"0\",\n    user_id: localStorage.getItem(\"userId\"),\n    user_name: \"\",\n  });\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleCheckChange = (key, value) => {\n    setFormData({ ...formData, [key]: value ? \"True\" : \"False\" });\n  };\n\n  const handleAutoChange = (key1, key2, value) => {\n    console.log(key1, key2, value);\n    setFormData({ ...formData, [key1]: value.id, [key2]: value.value });\n  };\n\n  const onNext = () => {\n    if (selectedTab === 0) {\n      setSelectedTab(1);\n    } else {\n      onSubmit();\n    }\n  };\n\n  const onSubmit = () => {\n    CommonController.commonApiCallFilter(\n      \"Product/ProductMasterInsert\",\n      formData\n    )\n      .then((data) => {\n        if (data.valid) {\n          showSuccessToast(\n            selectedIdResponse\n              ? \"Product updated successfully\"\n              : \"Product inserted successfully\"\n          );\n        } else {\n          showErrorToast(\"something went wrong\");\n        }\n      })\n      .catch((err) => showErrorToast(\"something went wrong\"));\n  };\n\n  const onBack = () => {\n    setSelectedTab(0);\n  };\n\n  useEffect(() => {\n    if (selectedIdResponse) {\n      CommonController.commonApiCallFilter(\"Product/PreviewProductMaster\", {\n        product_id: selectedIdResponse,\n      })\n        .then((data) => {\n          // setFormData(data);\n          let tempData = { ...formData };\n          for (let key in formData) {\n            if (data.hasOwnProperty(key)) {\n              tempData[key] = data[key];\n            }\n          }\n          setFormData(tempData);\n        })\n        .catch((err) => {\n          showErrorToast(err);\n        });\n    }\n  }, [selectedIdResponse]);\n\n  return (\n    <div className=\"container-fluid mt-5\">\n      {/* {loading && <Loader />} */}\n      <ul className=\"nav nav-tabs nav-tabs-line\">\n        <li className=\"nav-item\">\n          <a\n            className={`nav-link ` + (selectedTab === 0 ? \"active\" : \"\")}\n            onChange={() => setSelectedTab(0)}\n          >\n            General Information\n          </a>\n        </li>\n        <li className=\"nav-item\">\n          <a\n            className={`nav-link ` + (selectedTab === 1 ? \"active\" : \"\")}\n            onChange={() => setSelectedTab(1)}\n          >\n            Technical Information\n          </a>\n        </li>\n      </ul>\n      <div className=\"tab-content mt-10\">\n        {selectedTab === 0 && (\n          <GeneralProduct\n            formData={formData}\n            handleChange={handleChange}\n            handleAutoChange={handleAutoChange}\n            handleCheckChange={handleCheckChange}\n          />\n        )}\n        {selectedTab === 1 && (\n          <OtherInformation formData={formData} handleChange={handleChange} />\n        )}\n        <div className=\"w-100 text-right\">\n          {selectedTab === 1 && (\n            <Button\n              variant=\"contained\"\n              onClick={onBack}\n              className=\"mr-3\"\n              color=\"primary\"\n              disableElevation\n            >\n              Back\n            </Button>\n          )}\n          <Button\n            variant=\"contained\"\n            onClick={onNext}\n            color=\"primary\"\n            disableElevation\n          >\n            {selectedTab === 1 ? \"Submit\" : \"Next\"}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddNewProduct;\n"]},"metadata":{},"sourceType":"module"}