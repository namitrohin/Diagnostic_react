{"ast":null,"code":"var _jsxFileName = \"F:\\\\React code\\\\diagnostic\\\\src\\\\pages\\\\support\\\\ticketCommercial\\\\addCommericial.js\",\n    _s = $RefreshSig$();\n\nimport { Button } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { buttonLoader, showErrorToast, showSuccessToast } from \"../../../components/common\";\nimport { TablePicker } from \"../../../components/table-picker\";\nimport { CommonController } from \"../../../_redux/controller/common.controller\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddTicketCommercial = ({\n  changeTab,\n  previewId,\n  ...props\n}) => {\n  _s();\n\n  const [selectedTicket, setSelectedTicket] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [showPicker, setShowPicker] = useState(false);\n\n  const togglePicker = () => setShowPicker(!showPicker);\n\n  const [errors, setErrors] = useState({});\n  const [formData, setFormData] = useState({\n    tran_id: previewId ? previewId : \"0\",\n    ticket_id: \"\",\n    date: moment().format(\"DD-MM-yyyy\"),\n    charges: \"\",\n    remarks: \"\",\n    user_id: localStorage.getItem(\"userId\")\n  });\n\n  const handleChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const validateForm = () => {\n    let errors = {};\n\n    if (formData.charges == \"\") {\n      errors.charges = \"Charges required\";\n    } else {\n      delete errors.charges;\n    }\n\n    if (formData.remarks == \"\") {\n      errors.remarks = \"Remarks required\";\n    } else {\n      delete errors.remarks;\n    }\n\n    const valid = Object.keys(errors).length === 0 ? true : false;\n    setErrors(errors);\n    return valid;\n  };\n\n  const onSubmit = async () => {\n    try {\n      setLoading(true);\n\n      if (validateForm()) {\n        await CommonController.commonApiCallFilter(\"TicketCommercial/TicketCommericialInsert\", formData, \"post\").then(data => {\n          if (data.valid) {\n            showSuccessToast(\"Ticket Commercial Successfully\");\n            changeTab(0);\n          } else {\n            showErrorToast(data.msg);\n          }\n        });\n      }\n\n      setLoading(false);\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n\n  const getTicketById = async () => {\n    try {\n      await CommonController.commonApiCallFilter(\"TicketCommercial/TicketCommericialPreview\", {\n        tran_id: previewId\n      }, \"post\").then(data => {\n        setSelectedTicket(data);\n        setFormData({ ...formData,\n          charges: data.charges,\n          remarks: data.remarks,\n          ticket_id: data.ticket_id\n        });\n      });\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n\n  useEffect(() => {\n    if (previewId) {\n      getTicketById();\n    }\n  }, [previewId]);\n  const newColumns = [{\n    id: \"id\",\n    label: \"Sr. no\",\n    numeric: false,\n    disablePadding: true\n  }, {\n    id: \"date\",\n    label: \"Date\",\n    numeric: false,\n    disablePadding: true\n  }, {\n    id: \"ticket_no\",\n    label: \"Ticket No\",\n    numeric: false,\n    disablePadding: true\n  }, {\n    id: \"menu\",\n    label: \"Menu\",\n    numeric: false,\n    disablePadding: true\n  }, {\n    id: \"transaction\",\n    label: \"Transaction\",\n    numeric: false,\n    disablePadding: true\n  }, {\n    id: \"type\",\n    label: \"Type\",\n    numeric: false,\n    disablePadding: true\n  }, {\n    id: \"priority\",\n    label: \"Priority\",\n    numeric: false,\n    disablePadding: true\n  }, {\n    id: \"details\",\n    label: \"Details\",\n    numeric: false,\n    disablePadding: true\n  }, {\n    id: \"generated_by\",\n    label: \"Generated By\",\n    numeric: false,\n    disablePadding: true\n  }, {\n    id: \"status\",\n    label: \"Status\",\n    numeric: false,\n    disablePadding: true\n  }];\n\n  const handlePickTicket = ticket => {\n    setFormData({ ...formData,\n      ticket_id: String(ticket.id)\n    });\n    setSelectedTicket(ticket);\n    setShowPicker(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12 text-right\",\n        children: [!showPicker && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: togglePicker,\n          disableElevation: true,\n          color: \"primary\",\n          children: \"Pick Ticket\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), showPicker && /*#__PURE__*/_jsxDEV(TablePicker, {\n          selectedItems: selectedTicket,\n          columns: newColumns,\n          type: \"single\",\n          url: \"TicketCommercial/PickTicketInCommercial\",\n          onSubmit: handlePickTicket,\n          onPickerClose: togglePicker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Ticket Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: selectedTicket && selectedTicket.date != \"\" ? selectedTicket.date : \"N/A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Ticket No.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", selectedTicket && selectedTicket.ticket_no != \"\" ? selectedTicket.ticket_no : \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Generated By\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", selectedTicket && selectedTicket.generated_by != \"\" ? selectedTicket.generated_by : \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", selectedTicket && selectedTicket.menu != \"\" ? selectedTicket.menu : \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Transaction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", selectedTicket && selectedTicket.transaction != \"\" ? selectedTicket.transaction : \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", selectedTicket && selectedTicket.type != \"\" ? selectedTicket.type : \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Priority\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", selectedTicket && selectedTicket.priority != \"\" ? selectedTicket.priority : \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", selectedTicket && selectedTicket.details != \"\" ? selectedTicket.details : \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control w-75\",\n            value: formData.date,\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Charges\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control w-75\",\n            name: \"charges\",\n            value: formData.charges,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), errors.charges && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-danger\",\n            children: errors.charges\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Remarks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            type: \"text\",\n            value: formData.remarks,\n            name: \"remarks\",\n            onChange: handleChange,\n            className: \"form-control w-75\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), errors.remarks && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-danger\",\n            children: errors.remarks\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Approved Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", selectedTicket && selectedTicket.approved_date != \"\" ? selectedTicket.approved_date : \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Approved Charges\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", selectedTicket && selectedTicket.approved_charges != \"\" ? selectedTicket.approved_charges : \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bold\",\n            children: \"Approved Remarks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", selectedTicket && selectedTicket.approved_remarks != \"\" ? selectedTicket.approved_remarks : \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12 text-right\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: () => changeTab(0),\n          className: \"mr-2\",\n          disableElevation: true,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), buttonLoader(loading, \"Submit\", onSubmit, \"primary\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddTicketCommercial, \"/y/AAq714IZOPsyclBYjDtTIc1E=\");\n\n_c = AddTicketCommercial;\nexport default AddTicketCommercial;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddTicketCommercial\");","map":{"version":3,"sources":["F:/React code/diagnostic/src/pages/support/ticketCommercial/addCommericial.js"],"names":["Button","moment","React","useEffect","useState","useSelector","buttonLoader","showErrorToast","showSuccessToast","TablePicker","CommonController","AddTicketCommercial","changeTab","previewId","props","selectedTicket","setSelectedTicket","loading","setLoading","showPicker","setShowPicker","togglePicker","errors","setErrors","formData","setFormData","tran_id","ticket_id","date","format","charges","remarks","user_id","localStorage","getItem","handleChange","e","target","name","value","validateForm","valid","Object","keys","length","onSubmit","commonApiCallFilter","then","data","msg","err","getTicketById","newColumns","id","label","numeric","disablePadding","handlePickTicket","ticket","String","ticket_no","generated_by","menu","transaction","type","priority","details","approved_date","approved_charges","approved_remarks"],"mappings":"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","sourcesContent":["import { Button } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport {\n  buttonLoader,\n  showErrorToast,\n  showSuccessToast,\n} from \"../../../components/common\";\nimport { TablePicker } from \"../../../components/table-picker\";\nimport { CommonController } from \"../../../_redux/controller/common.controller\";\n\nconst AddTicketCommercial = ({ changeTab, previewId, ...props }) => {\n  const [selectedTicket, setSelectedTicket] = useState(null);\n\n  const [loading, setLoading] = useState(false);\n\n  const [showPicker, setShowPicker] = useState(false);\n\n  const togglePicker = () => setShowPicker(!showPicker);\n\n  const [errors, setErrors] = useState({});\n\n  const [formData, setFormData] = useState({\n    tran_id: previewId ? previewId : \"0\",\n    ticket_id: \"\",\n    date: moment().format(\"DD-MM-yyyy\"),\n    charges: \"\",\n    remarks: \"\",\n    user_id: localStorage.getItem(\"userId\"),\n  });\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const validateForm = () => {\n    let errors = {};\n    if (formData.charges == \"\") {\n      errors.charges = \"Charges required\";\n    } else {\n      delete errors.charges;\n    }\n\n    if (formData.remarks == \"\") {\n      errors.remarks = \"Remarks required\";\n    } else {\n      delete errors.remarks;\n    }\n\n    const valid = Object.keys(errors).length === 0 ? true : false;\n    setErrors(errors);\n    return valid;\n  };\n\n  const onSubmit = async () => {\n    try {\n      setLoading(true);\n      if (validateForm()) {\n        await CommonController.commonApiCallFilter(\n          \"TicketCommercial/TicketCommericialInsert\",\n          formData,\n          \"post\"\n        ).then((data) => {\n          if (data.valid) {\n            showSuccessToast(\"Ticket Commercial Successfully\");\n            changeTab(0);\n          } else {\n            showErrorToast(data.msg);\n          }\n        });\n      }\n      setLoading(false);\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n\n  const getTicketById = async () => {\n    try {\n      await CommonController.commonApiCallFilter(\n        \"TicketCommercial/TicketCommericialPreview\",\n        { tran_id: previewId },\n        \"post\"\n      ).then((data) => {\n        setSelectedTicket(data);\n        setFormData({\n          ...formData,\n          charges: data.charges,\n          remarks: data.remarks,\n          ticket_id: data.ticket_id,\n        });\n      });\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n\n  useEffect(() => {\n    if (previewId) {\n      getTicketById();\n    }\n  }, [previewId]);\n\n  const newColumns = [\n    {\n      id: \"id\",\n      label: \"Sr. no\",\n      numeric: false,\n      disablePadding: true,\n    },\n    {\n      id: \"date\",\n      label: \"Date\",\n      numeric: false,\n      disablePadding: true,\n    },\n    {\n      id: \"ticket_no\",\n      label: \"Ticket No\",\n      numeric: false,\n      disablePadding: true,\n    },\n    {\n      id: \"menu\",\n      label: \"Menu\",\n      numeric: false,\n      disablePadding: true,\n    },\n    {\n      id: \"transaction\",\n      label: \"Transaction\",\n      numeric: false,\n      disablePadding: true,\n    },\n    {\n      id: \"type\",\n      label: \"Type\",\n      numeric: false,\n      disablePadding: true,\n    },\n    {\n      id: \"priority\",\n      label: \"Priority\",\n      numeric: false,\n      disablePadding: true,\n    },\n    {\n      id: \"details\",\n      label: \"Details\",\n      numeric: false,\n      disablePadding: true,\n    },\n    {\n      id: \"generated_by\",\n      label: \"Generated By\",\n      numeric: false,\n      disablePadding: true,\n    },\n    {\n      id: \"status\",\n      label: \"Status\",\n      numeric: false,\n      disablePadding: true,\n    },\n  ];\n\n  const handlePickTicket = (ticket) => {\n    setFormData({ ...formData, ticket_id: String(ticket.id) });\n    setSelectedTicket(ticket);\n    setShowPicker(false);\n  };\n\n  return (\n    <div className=\"container-fluid mt-5\">\n      <div className=\"row\">\n        <div className=\"col-md-12 text-right\">\n          {!showPicker && (\n            <Button\n              variant=\"contained\"\n              onClick={togglePicker}\n              disableElevation\n              color=\"primary\"\n            >\n              Pick Ticket\n            </Button>\n          )}\n          {showPicker && (\n            <TablePicker\n              selectedItems={selectedTicket}\n              columns={newColumns}\n              type=\"single\"\n              url={\"TicketCommercial/PickTicketInCommercial\"}\n              onSubmit={handlePickTicket}\n              onPickerClose={togglePicker}\n            />\n          )}\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Ticket Date</label>\n            <p>\n              {selectedTicket && selectedTicket.date != \"\"\n                ? selectedTicket.date\n                : \"N/A\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Ticket No.</label>\n            <p>\n              {\" \"}\n              {selectedTicket && selectedTicket.ticket_no != \"\"\n                ? selectedTicket.ticket_no\n                : \"N/A\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Generated By</label>\n            <p>\n              {\" \"}\n              {selectedTicket && selectedTicket.generated_by != \"\"\n                ? selectedTicket.generated_by\n                : \"N/A\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Menu</label>\n            <p>\n              {\" \"}\n              {selectedTicket && selectedTicket.menu != \"\"\n                ? selectedTicket.menu\n                : \"N/A\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Transaction</label>\n            <p>\n              {\" \"}\n              {selectedTicket && selectedTicket.transaction != \"\"\n                ? selectedTicket.transaction\n                : \"N/A\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Type</label>\n            <p>\n              {\" \"}\n              {selectedTicket && selectedTicket.type != \"\"\n                ? selectedTicket.type\n                : \"N/A\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Priority</label>\n            <p>\n              {\" \"}\n              {selectedTicket && selectedTicket.priority != \"\"\n                ? selectedTicket.priority\n                : \"N/A\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Details</label>\n            <p>\n              {\" \"}\n              {selectedTicket && selectedTicket.details != \"\"\n                ? selectedTicket.details\n                : \"N/A\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Date</label>\n            <input\n              type=\"text\"\n              className=\"form-control w-75\"\n              value={formData.date}\n              disabled\n            />\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Charges</label>\n            <input\n              type=\"text\"\n              className=\"form-control w-75\"\n              name=\"charges\"\n              value={formData.charges}\n              onChange={handleChange}\n            />\n            {errors.charges && <p className=\"text-danger\">{errors.charges}</p>}\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Remarks</label>\n            <textarea\n              type=\"text\"\n              value={formData.remarks}\n              name=\"remarks\"\n              onChange={handleChange}\n              className=\"form-control w-75\"\n            ></textarea>\n            {errors.remarks && <p className=\"text-danger\">{errors.remarks}</p>}\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Approved Date</label>\n            <p>\n              {\" \"}\n              {selectedTicket && selectedTicket.approved_date != \"\"\n                ? selectedTicket.approved_date\n                : \"N/A\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Approved Charges</label>\n            <p>\n              {\" \"}\n              {selectedTicket && selectedTicket.approved_charges != \"\"\n                ? selectedTicket.approved_charges\n                : \"N/A\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Approved Remarks</label>\n            <p>\n              {\" \"}\n              {selectedTicket && selectedTicket.approved_remarks != \"\"\n                ? selectedTicket.approved_remarks\n                : \"N/A\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"col-md-12 text-right\">\n          <Button\n            variant=\"contained\"\n            onClick={() => changeTab(0)}\n            className=\"mr-2\"\n            disableElevation\n          >\n            Cancel\n          </Button>\n          {buttonLoader(loading, \"Submit\", onSubmit, \"primary\")}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddTicketCommercial;\n"]},"metadata":{},"sourceType":"module"}