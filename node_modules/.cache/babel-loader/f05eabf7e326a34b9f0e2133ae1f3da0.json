{"ast":null,"code":"import _defineProperty from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{DatePicker}from\"@material-ui/pickers\";import moment from\"moment\";import React,{useEffect,useState}from\"react\";import{CommonController}from\"../_redux/controller/common.controller\";import{showErrorToast}from\"./common\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DateFilter=function DateFilter(_ref){var onDateUpdate=_ref.onDateUpdate;var _useState=useState({user_id:localStorage.getItem(\"userId\"),from_date:null,to_date:null}),_useState2=_slicedToArray(_useState,2),dateParams=_useState2[0],setDateParams=_useState2[1];var from_date=dateParams.from_date,to_date=dateParams.to_date;var updateDateFilter=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var date;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;date=_objectSpread({},dateParams);date.from_date=moment(date.from_date).format(\"DD/MM/yyyy\");date.to_date=moment(date.to_date).format(\"DD/MM/yyyy\");_context.next=6;return CommonController.commonApiCallFilter(\"Login/DateFilter\",date,\"post\").then(function(data){if(data.valid){onDateUpdate();}else{showErrorToast(data.msg);}});case 6:_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);showErrorToast(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function updateDateFilter(){return _ref2.apply(this,arguments);};}();var handleDateChange=function handleDateChange(name,date){setDateParams(_objectSpread(_objectSpread({},dateParams),{},_defineProperty({},name,date)));};useEffect(function(){if(from_date&&to_date){updateDateFilter();}},[dateParams]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(DatePicker,{label:\"From Date\",value:from_date,format:\"dd/MM/yyyy\",onChange:function onChange(date){return handleDateChange(\"from_date\",date);},animateYearScrolling:true,inputVariant:\"outlined\",size:\"small\",fullWidth:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(DatePicker,{label:\"To Date\",value:to_date,onChange:function onChange(date){return handleDateChange(\"to_date\",date);},animateYearScrolling:true,format:\"dd/MM/yyyy\",minDate:from_date,inputVariant:\"outlined\",size:\"small\",fullWidth:true})})]});};export default DateFilter;","map":{"version":3,"sources":["F:/React code/diagnostic/src/components/dateFilter.js"],"names":["DatePicker","moment","React","useEffect","useState","CommonController","showErrorToast","DateFilter","onDateUpdate","user_id","localStorage","getItem","from_date","to_date","dateParams","setDateParams","updateDateFilter","date","format","commonApiCallFilter","then","data","valid","msg","handleDateChange","name"],"mappings":"ysBAAA,OAASA,UAAT,KAA2B,sBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,gBAAT,KAAiC,wCAAjC,CACA,OAASC,cAAT,KAA+B,UAA/B,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAsB,IAAnBC,CAAAA,YAAmB,MAAnBA,YAAmB,CACvC,cAAoCJ,QAAQ,CAAC,CAC3CK,OAAO,CAAEC,YAAY,CAACC,OAAb,CAAqB,QAArB,CADkC,CAE3CC,SAAS,CAAE,IAFgC,CAG3CC,OAAO,CAAE,IAHkC,CAAD,CAA5C,wCAAOC,UAAP,eAAmBC,aAAnB,eAMA,GAAQH,CAAAA,SAAR,CAA+BE,UAA/B,CAAQF,SAAR,CAAmBC,OAAnB,CAA+BC,UAA/B,CAAmBD,OAAnB,CAEA,GAAMG,CAAAA,gBAAgB,2FAAG,4JAEjBC,IAFiB,kBAELH,UAFK,EAGrBG,IAAI,CAACL,SAAL,CAAiBX,MAAM,CAACgB,IAAI,CAACL,SAAN,CAAN,CAAuBM,MAAvB,CAA8B,YAA9B,CAAjB,CACAD,IAAI,CAACJ,OAAL,CAAeZ,MAAM,CAACgB,IAAI,CAACJ,OAAN,CAAN,CAAqBK,MAArB,CAA4B,YAA5B,CAAf,CAJqB,sBAKfb,CAAAA,gBAAgB,CAACc,mBAAjB,CACJ,kBADI,CAEJF,IAFI,CAGJ,MAHI,EAIJG,IAJI,CAIC,SAACC,IAAD,CAAU,CACf,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACdd,YAAY,GACb,CAFD,IAEO,CACLF,cAAc,CAACe,IAAI,CAACE,GAAN,CAAd,CACD,CACF,CAVK,CALe,uFAiBrBjB,cAAc,aAAd,CAjBqB,oEAAH,kBAAhBU,CAAAA,gBAAgB,2CAAtB,CAqBA,GAAMQ,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,IAAD,CAAOR,IAAP,CAAgB,CACvCF,aAAa,gCAAMD,UAAN,wBAAmBW,IAAnB,CAA0BR,IAA1B,GAAb,CACD,CAFD,CAIAd,SAAS,CAAC,UAAM,CACd,GAAIS,SAAS,EAAIC,OAAjB,CAA0B,CACxBG,gBAAgB,GACjB,CACF,CAJQ,CAIN,CAACF,UAAD,CAJM,CAAT,CAKA,mBACE,MAAC,KAAD,CAAO,QAAP,yBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,UAAD,EACE,KAAK,CAAC,WADR,CAEE,KAAK,CAAEF,SAFT,CAGE,MAAM,CAAC,YAHT,CAIE,QAAQ,CAAE,kBAACK,IAAD,QAAUO,CAAAA,gBAAgB,CAAC,WAAD,CAAcP,IAAd,CAA1B,EAJZ,CAKE,oBAAoB,KALtB,CAME,YAAY,CAAC,UANf,CAOE,IAAI,CAAC,OAPP,CAQE,SAAS,KARX,EADF,EADF,cAaE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,UAAD,EACE,KAAK,CAAC,SADR,CAEE,KAAK,CAAEJ,OAFT,CAGE,QAAQ,CAAE,kBAACI,IAAD,QAAUO,CAAAA,gBAAgB,CAAC,SAAD,CAAYP,IAAZ,CAA1B,EAHZ,CAIE,oBAAoB,KAJtB,CAKE,MAAM,CAAC,YALT,CAME,OAAO,CAAEL,SANX,CAOE,YAAY,CAAC,UAPf,CAQE,IAAI,CAAC,OARP,CASE,SAAS,KATX,EADF,EAbF,GADF,CA6BD,CApED,CAsEA,cAAeL,CAAAA,UAAf","sourcesContent":["import { DatePicker } from \"@material-ui/pickers\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\nimport { CommonController } from \"../_redux/controller/common.controller\";\nimport { showErrorToast } from \"./common\";\n\nconst DateFilter = ({ onDateUpdate }) => {\n  const [dateParams, setDateParams] = useState({\n    user_id: localStorage.getItem(\"userId\"),\n    from_date: null,\n    to_date: null,\n  });\n\n  const { from_date, to_date } = dateParams;\n\n  const updateDateFilter = async () => {\n    try {\n      let date = { ...dateParams };\n      date.from_date = moment(date.from_date).format(\"DD/MM/yyyy\");\n      date.to_date = moment(date.to_date).format(\"DD/MM/yyyy\");\n      await CommonController.commonApiCallFilter(\n        \"Login/DateFilter\",\n        date,\n        \"post\"\n      ).then((data) => {\n        if (data.valid) {\n          onDateUpdate();\n        } else {\n          showErrorToast(data.msg);\n        }\n      });\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n\n  const handleDateChange = (name, date) => {\n    setDateParams({ ...dateParams, [name]: date });\n  };\n\n  useEffect(() => {\n    if (from_date && to_date) {\n      updateDateFilter();\n    }\n  }, [dateParams]);\n  return (\n    <React.Fragment>\n      <div className=\"col-md-2\">\n        <DatePicker\n          label=\"From Date\"\n          value={from_date}\n          format=\"dd/MM/yyyy\"\n          onChange={(date) => handleDateChange(\"from_date\", date)}\n          animateYearScrolling\n          inputVariant=\"outlined\"\n          size=\"small\"\n          fullWidth\n        />\n      </div>\n      <div className=\"col-md-2\">\n        <DatePicker\n          label=\"To Date\"\n          value={to_date}\n          onChange={(date) => handleDateChange(\"to_date\", date)}\n          animateYearScrolling\n          format=\"dd/MM/yyyy\"\n          minDate={from_date}\n          inputVariant=\"outlined\"\n          size=\"small\"\n          fullWidth\n        />\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default DateFilter;\n"]},"metadata":{},"sourceType":"module"}