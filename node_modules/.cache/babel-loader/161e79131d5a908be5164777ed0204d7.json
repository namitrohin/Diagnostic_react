{"ast":null,"code":"var _jsxFileName = \"F:\\\\React code\\\\diagnostic\\\\src\\\\pages\\\\Profile\\\\changePassword.js\",\n    _s = $RefreshSig$();\n\nimport { Button, TextField } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { showErrorToast, showSuccessToast } from \"../../components/common\";\nimport { CommonController } from \"../../_redux/controller/common.controller\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ChangePassword = () => {\n  _s();\n\n  const [formData, setFormData] = useState({\n    oldpass: \"\",\n    newpass: \"\",\n    confpass: \"\",\n    user_id: localStorage.getItem(\"userId\"),\n    errors: {}\n  });\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = event => {\n    setFormData({ ...formData,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const validateForm = () => {\n    let errors = { ...formData.errors\n    };\n\n    if (formData.oldpass == \"\") {\n      errors.oldpass = \"Please enter old password\";\n    } else {\n      delete errors.oldpass;\n    }\n\n    if (formData.newpass == \"\") {\n      errors.newpass = \"Please enter new password\";\n    } else {\n      delete errors.newpass;\n    }\n\n    if (formData.confpass == \"\") {\n      errors.confpass = \"Please enter confirm password\";\n    } else {\n      delete errors.confpass;\n    }\n\n    console.log(errors);\n    setFormData({ ...formData,\n      errors: errors\n    });\n    return Object.keys(errors).length !== 0;\n  };\n\n  const onSubmit = async () => {\n    try {\n      setLoading(true);\n\n      if (!validateForm()) {\n        await CommonController.commonApiCallFilter(\"Profile/UpdateEmployeePassword\", formData, \"post\").then(data => {\n          if (data.valid) {\n            showSuccessToast(\"Password changed successfully \");\n          } else {\n            showErrorToast(data.msg);\n          }\n        });\n      }\n\n      setLoading(false);\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card shadow\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            fullWidth: true,\n            size: \"small\",\n            value: formData.oldpass,\n            name: \"oldpass\",\n            type: \"password\",\n            label: \"Old Password\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), formData.errors && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0 text-danger\",\n            children: formData.errors.oldpass\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            fullWidth: true,\n            size: \"small\",\n            name: \"newpass\",\n            type: \"password\",\n            value: formData.newpass,\n            label: \"New Password\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), formData.errors && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0 text-danger\",\n            children: formData.errors.newpass\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            fullWidth: true,\n            size: \"small\",\n            name: \"confpass\",\n            value: formData.confpass,\n            label: \"Conf. Password\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), formData.errors && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0 text-danger\",\n            children: formData.errors.confpass\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 mt-5\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disable: loading,\n            variant: \"contained\",\n            onClick: onSubmit,\n            disableElevation: true,\n            color: \"primary\",\n            children: loading ? \"Processing...\" : \"Update Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChangePassword, \"R0VPaX29MF5Qm39cxRWYQOFwz6c=\");\n\n_c = ChangePassword;\nexport default ChangePassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangePassword\");","map":{"version":3,"sources":["F:/React code/diagnostic/src/pages/Profile/changePassword.js"],"names":["Button","TextField","React","useState","showErrorToast","showSuccessToast","CommonController","ChangePassword","formData","setFormData","oldpass","newpass","confpass","user_id","localStorage","getItem","errors","loading","setLoading","handleChange","event","target","name","value","validateForm","console","log","Object","keys","length","onSubmit","commonApiCallFilter","then","data","valid","msg","err"],"mappings":"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","sourcesContent":["import { Button, TextField } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { showErrorToast, showSuccessToast } from \"../../components/common\";\nimport { CommonController } from \"../../_redux/controller/common.controller\";\n\nconst ChangePassword = () => {\n  const [formData, setFormData] = useState({\n    oldpass: \"\",\n    newpass: \"\",\n    confpass: \"\",\n    user_id: localStorage.getItem(\"userId\"),\n    errors: {},\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value });\n  };\n\n  const validateForm = () => {\n    let errors = { ...formData.errors };\n    if (formData.oldpass == \"\") {\n      errors.oldpass = \"Please enter old password\";\n    } else {\n      delete errors.oldpass;\n    }\n    if (formData.newpass == \"\") {\n      errors.newpass = \"Please enter new password\";\n    } else {\n      delete errors.newpass;\n    }\n    if (formData.confpass == \"\") {\n      errors.confpass = \"Please enter confirm password\";\n    } else {\n      delete errors.confpass;\n    }\n    console.log(errors);\n    setFormData({ ...formData, errors: errors });\n    return Object.keys(errors).length !== 0;\n  };\n\n  const onSubmit = async () => {\n    try {\n      setLoading(true);\n      if (!validateForm()) {\n        await CommonController.commonApiCallFilter(\n          \"Profile/UpdateEmployeePassword\",\n          formData,\n          \"post\"\n        ).then((data) => {\n          if (data.valid) {\n            showSuccessToast(\"Password changed successfully \");\n          } else {\n            showErrorToast(data.msg);\n          }\n        });\n      }\n      setLoading(false);\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n\n  return (\n    <div className=\"card shadow\">\n      <div className=\"card-body\">\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <TextField\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              value={formData.oldpass}\n              name=\"oldpass\"\n              type=\"password\"\n              label=\"Old Password\"\n              onChange={handleChange}\n            />\n            {formData.errors && (\n              <p className=\"mb-0 text-danger\">{formData.errors.oldpass}</p>\n            )}\n          </div>\n          <div className=\"col-md-3\">\n            <TextField\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"newpass\"\n              type=\"password\"\n              value={formData.newpass}\n              label=\"New Password\"\n              onChange={handleChange}\n            />\n            {formData.errors && (\n              <p className=\"mb-0 text-danger\">{formData.errors.newpass}</p>\n            )}\n          </div>\n          <div className=\"col-md-3\">\n            <TextField\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"confpass\"\n              value={formData.confpass}\n              label=\"Conf. Password\"\n              onChange={handleChange}\n            />\n            {formData.errors && (\n              <p className=\"mb-0 text-danger\">{formData.errors.confpass}</p>\n            )}\n          </div>\n          <div className=\"col-md-12 mt-5\">\n            <Button\n              disable={loading}\n              variant=\"contained\"\n              onClick={onSubmit}\n              disableElevation\n              color=\"primary\"\n            >\n              {loading ? \"Processing...\" : \"Update Password\"}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChangePassword;\n"]},"metadata":{},"sourceType":"module"}