{"ast":null,"code":"import _regeneratorRuntime from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{TextField,MenuItem,ListItem,ListItemText,Dialog,DialogActions,DialogTitle,DialogContent,List,ListItemAvatar,Avatar}from\"@material-ui/core\";import{Button}from\"@mui/material\";import{DataGrid}from\"@mui/x-data-grid\";import{DatePicker}from\"@material-ui/pickers\";import React,{useEffect,useState}from\"react\";import{showErrorToast,showSuccessToast}from\"../../../components/common\";import CustomPagination from\"../../../components/CustomPagination\";import CustomNoRowsOverlay from\"../../../components/customRowComponent\";import{Loader}from\"../../../components/loader\";import{CommonController}from\"../../../_redux/controller/common.controller\";import ImageIcon from\"@material-ui/icons/Image\";import DateFilter from\"../../../components/dateFilter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var user_id={user_id:localStorage.getItem(\"userId\")};var SupportTicketBrowse=function SupportTicketBrowse(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),browseListData=_useState2[0],setBrowseListData=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),totalRecord=_useState4[0],setTotalRecords=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),remarksModal=_useState6[0],setRemarksModal=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),remarksList=_useState10[0],setRemarksList=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),remarkLoading=_useState12[0],setRemarkLoading=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),attachedFile=_useState14[0],setAttachedFile=_useState14[1];var _useState15=useState({mtran_id:\"\",comments:\"\",status:\"\",attach_file:\"\",rit_user:localStorage.getItem(\"userName\"),user_id:localStorage.getItem(\"userId\")}),_useState16=_slicedToArray(_useState15,2),remarks=_useState16[0],setRemarks=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),empList=_useState18[0],setEmpList=_useState18[1];var _useState19=useState({pageNo:1,pageSize:10,filter_value:\"\",sort_column:\"\",sort_order:\"\"}),_useState20=_slicedToArray(_useState19,2),params=_useState20[0],setParams=_useState20[1];var _useState21=useState({user_id:1,generated_by:\"\",status:\"\",fromDate:null,toDate:null}),_useState22=_slicedToArray(_useState21,2),bodyParam=_useState22[0],setBodyParam=_useState22[1];var onRemarkChange=function onRemarkChange(event){setRemarks(_objectSpread(_objectSpread({},remarks),{},_defineProperty({},event.target.name,event.target.value)));};var handleParams=function handleParams(event){setTimeout(function(){setParams(_objectSpread(_objectSpread({},params),{},_defineProperty({},event.target.name,event.target.value)));},800);};var handleBodyParam=function handleBodyParam(event){setTimeout(function(){setBodyParam(_objectSpread(_objectSpread({},bodyParam),{},_defineProperty({},event.target.name,event.target.value)));},800);};var getBrowseListData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return CommonController.commonApiCall(\"Ticket/SupportTicketBrowse\",params,bodyParam,user_id).then(function(data){setBrowseListData(data.data);setTotalRecords(data.recordsFiltered);});case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);showErrorToast(_context.t0);case 9:setLoading(false);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,6]]);}));return function getBrowseListData(){return _ref.apply(this,arguments);};}();var getEmployeeList=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return CommonController.commonApiCallFilter(\"Dropdown/GetEmpListInSupport\",{user_id:localStorage.getItem(\"userId\")},\"get\").then(function(data){setEmpList(data);});case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);showErrorToast(_context2.t0);case 8:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));return function getEmployeeList(){return _ref2.apply(this,arguments);};}();var handlePageSizeChange=function handlePageSizeChange(param){setParams(_objectSpread(_objectSpread({},params),{},{pageSize:param}));};var handlePageChange=function handlePageChange(param){setParams(_objectSpread(_objectSpread({},params),{},{pageNo:param}));};useEffect(function(){getBrowseListData();getEmployeeList();},[]);useEffect(function(){getBrowseListData();},[params,bodyParam]);var handleDateChange=function handleDateChange(type,date){setBodyParam(_objectSpread(_objectSpread({},bodyParam),{},_defineProperty({},type,date)));};var toggleRemarks=function toggleRemarks(){return setRemarksModal(!remarksModal);};var saveRemarks=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var formdata;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoading(true);_context3.prev=1;formdata=new FormData();formdata.append(\"file\",attachedFile);_context3.next=6;return CommonController.commonApiFile(\"Ticket/TicketImageInsert\",formdata);case 6:_context3.next=8;return CommonController.commonApiCallFilter(\"Ticket/TicketCommentInsert\",remarks).then(function(data){if(data.valid){getBrowseListData();showSuccessToast(\"Remarks Updated Successfully\");setRemarksModal(false);}else{showErrorToast(data.msg);}});case 8:_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](1);showErrorToast(\"Something went wrong\");case 13:setLoading(false);case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[1,10]]);}));return function saveRemarks(){return _ref3.apply(this,arguments);};}();var getRemarkList=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setRemarks(_objectSpread(_objectSpread({},remarks),{},{mtran_id:id}));setRemarkLoading(true);_context4.next=4;return CommonController.commonApiCallFilter(\"Ticket/GetTicketComment\",{mtran_id:id},\"post\").then(function(data){setRemarksList(data);setRemarksModal(true);}).catch(function(err){showErrorToast(err);});case 4:setRemarkLoading(false);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function getRemarkList(_x){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"filter_box mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"mb-0\",children:\"Filters\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"outlined-basic\",size:\"small\",onKeyUp:handleParams,name:\"filter_value\",label:\"Search\",variant:\"outlined\"})}),/*#__PURE__*/_jsx(DateFilter,{onDateUpdate:function onDateUpdate(){return getBrowseListData();}}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(TextField,{fullWidth:true,id:\"outlined-basic\",size:\"small\",onChange:function onChange(e){handleBodyParam(e);},name:\"generated_by\",select:true,label:\"Generated By\",variant:\"outlined\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"None\"}),empList&&empList.map(function(emp,index){return/*#__PURE__*/_jsx(MenuItem,{value:emp.value,children:emp.value},index);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(TextField,{fullWidth:true,id:\"outlined-basic\",size:\"small\",onChange:function onChange(e){handleBodyParam(e);},name:\"status\",select:true,label:\"Status\",variant:\"outlined\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"all\",children:\"All\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"open\",children:\"Open\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"close\",children:\"Close\"})]})})]})}),/*#__PURE__*/_jsxs(Dialog,{open:remarksModal,fullWidth:true,onClose:toggleRemarks,\"aria-labelledby\":\"responsive-dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"responsive-dialog-title\",children:\"Add Comment\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(TextField,{variant:\"outlined\",className:\"mb-4\",size:\"small\",fullWidth:true,id:\"select-1\",select:true,name:\"status\",onChange:onRemarkChange,label:\"Status*\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"0\",children:\"Close\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"1\",children:\"Open\"})]}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",multiline:true,size:\"small\",name:\"comment\",onChange:onRemarkChange,label:\"Comments*\",fullWidth:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Upload Attachment\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",id:\"files\",onChange:function onChange(e){if(e.target.files.length>0){setAttachedFile(e.target.files[0]);setRemarks(_objectSpread(_objectSpread({},remarks),{},{attach_file:e.target.files[0].name}));}else{setAttachedFile(null);setRemarks(_objectSpread(_objectSpread({},remarks),{},{attach_file:\"\"}));}},type:\"file\"})]}),/*#__PURE__*/_jsx(List,{children:remarksList&&remarksList.length>0&&remarksList.map(function(remark,index){return/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:remark.attach_file!==\"\"?/*#__PURE__*/_jsx(\"img\",{src:\"https://diagapi.quickgst.in/Support_Attachment/\"+remark.attach_file}):/*#__PURE__*/_jsx(Avatar,{children:/*#__PURE__*/_jsx(ImageIcon,{})})}),/*#__PURE__*/_jsx(ListItemText,{primary:remark.emp_name,secondary:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[remark.comments,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"float-right\",children:remark.datetime})]})})]},index);})})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:toggleRemarks,color:\"primary\",children:\"Close\"}),/*#__PURE__*/_jsx(Button,{onClick:saveRemarks,disabled:remarks.remarks==\"\"||remarks.status_id==\"\"||loading,color:\"primary\",children:\"Save\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:400,width:\"100%\"},children:/*#__PURE__*/_jsx(DataGrid,{columns:[{field:\"id\",headerName:\"Sr. no\",flex:0,hide:true},{field:\"date\",headerName:\"Date\",width:100},{field:\"ticket_no\",headerName:\"Ticket No\",width:120},{field:\"menu\",headerName:\"Menu\",width:120},{field:\"transaction\",headerName:\"Transaction\",width:170},{field:\"type\",headerName:\"Type\",width:150},{field:\"priority\",headerName:\"Priority\",width:100},{field:\"details\",headerName:\"Details\",width:200},{field:\"generated_by\",headerName:\"Generated By\",width:130},{field:\"status\",headerName:\"Status\",width:100},{field:\"remarks\",headerName:\"Remarks\",width:170},{field:\"attachments\",headerName:\"Attachments\",width:100},{field:\"\",headerName:\"\",renderCell:function renderCell(param){return/*#__PURE__*/_jsx(_Fragment,{children:remarkLoading?/*#__PURE__*/_jsx(\"img\",{src:\"/asset/images/circle.gif\",width:20}):/*#__PURE__*/_jsx(Button,{className:\"text-lowercase\",color:\"primary\",onClick:function onClick(){getRemarkList(param.row.tran_id);},children:\"Comment\"})});},width:100}],pagination:true,disableColumnFilter:true,pageSize:params.pageSize,page:params.pageNo,rowsPerPageOptions:[10,15,25,100],rowCount:totalRecord,paginationMode:\"server\",onPageSizeChange:handlePageSizeChange,onPageChange:handlePageChange,loading:loading,rowHeight:30,components:browseListData.length>0?{Pagination:CustomPagination,NoRowsOverlay:CustomNoRowsOverlay}:{},onSortModelChange:function onSortModelChange(sort){if(sort.length>0){setParams(_objectSpread(_objectSpread({},params),{},{sort_column:sort[0].field,sort_order:sort[0].sort}));}},rows:browseListData})})]});};export default SupportTicketBrowse;","map":{"version":3,"sources":["F:/React code/diagnostic/src/pages/support/ticket/browse.js"],"names":["TextField","MenuItem","ListItem","ListItemText","Dialog","DialogActions","DialogTitle","DialogContent","List","ListItemAvatar","Avatar","Button","DataGrid","DatePicker","React","useEffect","useState","showErrorToast","showSuccessToast","CustomPagination","CustomNoRowsOverlay","Loader","CommonController","ImageIcon","DateFilter","user_id","localStorage","getItem","SupportTicketBrowse","props","browseListData","setBrowseListData","totalRecord","setTotalRecords","remarksModal","setRemarksModal","loading","setLoading","remarksList","setRemarksList","remarkLoading","setRemarkLoading","attachedFile","setAttachedFile","mtran_id","comments","status","attach_file","rit_user","remarks","setRemarks","empList","setEmpList","pageNo","pageSize","filter_value","sort_column","sort_order","params","setParams","generated_by","fromDate","toDate","bodyParam","setBodyParam","onRemarkChange","event","target","name","value","handleParams","setTimeout","handleBodyParam","getBrowseListData","commonApiCall","then","data","recordsFiltered","getEmployeeList","commonApiCallFilter","handlePageSizeChange","param","handlePageChange","handleDateChange","type","date","toggleRemarks","saveRemarks","formdata","FormData","append","commonApiFile","valid","msg","getRemarkList","id","catch","err","e","map","emp","index","files","length","remark","emp_name","datetime","status_id","height","width","field","headerName","flex","hide","renderCell","row","tran_id","Pagination","NoRowsOverlay","sort"],"mappings":"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","sourcesContent":["import {\n  TextField,\n  MenuItem,\n  ListItem,\n  ListItemText,\n  Dialog,\n  DialogActions,\n  DialogTitle,\n  DialogContent,\n  List,\n  ListItemAvatar,\n  Avatar,\n} from \"@material-ui/core\";\nimport { Button } from \"@mui/material\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport { DatePicker } from \"@material-ui/pickers\";\nimport React, { useEffect, useState } from \"react\";\nimport { showErrorToast, showSuccessToast } from \"../../../components/common\";\nimport CustomPagination from \"../../../components/CustomPagination\";\nimport CustomNoRowsOverlay from \"../../../components/customRowComponent\";\nimport { Loader } from \"../../../components/loader\";\nimport { CommonController } from \"../../../_redux/controller/common.controller\";\nimport ImageIcon from \"@material-ui/icons/Image\";\nimport DateFilter from \"../../../components/dateFilter\";\n\nconst user_id = {\n  user_id: localStorage.getItem(\"userId\"),\n};\nconst SupportTicketBrowse = (props) => {\n  const [browseListData, setBrowseListData] = useState([]);\n  const [totalRecord, setTotalRecords] = useState(0);\n  const [remarksModal, setRemarksModal] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [remarksList, setRemarksList] = useState(null);\n  const [remarkLoading, setRemarkLoading] = useState(false);\n  const [attachedFile, setAttachedFile] = useState(null);\n  const [remarks, setRemarks] = useState({\n    mtran_id: \"\",\n    comments: \"\",\n    status: \"\",\n    attach_file: \"\",\n    rit_user: localStorage.getItem(\"userName\"),\n    user_id: localStorage.getItem(\"userId\"),\n  });\n\n  const [empList, setEmpList] = useState(false);\n  const [params, setParams] = useState({\n    pageNo: 1,\n    pageSize: 10,\n    filter_value: \"\",\n    sort_column: \"\",\n    sort_order: \"\",\n  });\n  const [bodyParam, setBodyParam] = useState({\n    user_id: 1,\n    generated_by: \"\",\n    status: \"\",\n    fromDate: null,\n    toDate: null,\n  });\n\n  const onRemarkChange = (event) => {\n    setRemarks({ ...remarks, [event.target.name]: event.target.value });\n  };\n  const handleParams = (event) => {\n    setTimeout(() => {\n      setParams({ ...params, [event.target.name]: event.target.value });\n    }, 800);\n  };\n\n  const handleBodyParam = (event) => {\n    setTimeout(() => {\n      setBodyParam({ ...bodyParam, [event.target.name]: event.target.value });\n    }, 800);\n  };\n\n  const getBrowseListData = async () => {\n    setLoading(true);\n    try {\n      await CommonController.commonApiCall(\n        \"Ticket/SupportTicketBrowse\",\n        params,\n        bodyParam,\n        user_id\n      ).then((data) => {\n        setBrowseListData(data.data);\n        setTotalRecords(data.recordsFiltered);\n      });\n    } catch (err) {\n      showErrorToast(err);\n    }\n    setLoading(false);\n  };\n\n  const getEmployeeList = async () => {\n    try {\n      await CommonController.commonApiCallFilter(\n        `Dropdown/GetEmpListInSupport`,\n        { user_id: localStorage.getItem(\"userId\") },\n        \"get\"\n      ).then((data) => {\n        setEmpList(data);\n      });\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n\n  const handlePageSizeChange = (param) => {\n    setParams({ ...params, pageSize: param });\n  };\n  const handlePageChange = (param) => {\n    setParams({ ...params, pageNo: param });\n  };\n\n  useEffect(() => {\n    getBrowseListData();\n    getEmployeeList();\n  }, []);\n\n  useEffect(() => {\n    getBrowseListData();\n  }, [params, bodyParam]);\n\n  const handleDateChange = (type, date) => {\n    setBodyParam({ ...bodyParam, [type]: date });\n  };\n\n  const toggleRemarks = () => setRemarksModal(!remarksModal);\n\n  const saveRemarks = async () => {\n    setLoading(true);\n\n    try {\n      let formdata = new FormData();\n      formdata.append(\"file\", attachedFile);\n      await CommonController.commonApiFile(\n        \"Ticket/TicketImageInsert\",\n        formdata\n      );\n      await CommonController.commonApiCallFilter(\n        \"Ticket/TicketCommentInsert\",\n        remarks\n      ).then((data) => {\n        if (data.valid) {\n          getBrowseListData();\n          showSuccessToast(\"Remarks Updated Successfully\");\n          setRemarksModal(false);\n        } else {\n          showErrorToast(data.msg);\n        }\n      });\n    } catch (err) {\n      showErrorToast(\"Something went wrong\");\n    }\n    setLoading(false);\n  };\n\n  const getRemarkList = async (id) => {\n    setRemarks({ ...remarks, mtran_id: id });\n    setRemarkLoading(true);\n    await CommonController.commonApiCallFilter(\n      \"Ticket/GetTicketComment\",\n      {\n        mtran_id: id,\n      },\n      \"post\"\n    )\n      .then((data) => {\n        setRemarksList(data);\n        setRemarksModal(true);\n      })\n      .catch((err) => {\n        showErrorToast(err);\n      });\n    setRemarkLoading(false);\n  };\n\n  return (\n    <>\n      <div className=\"filter_box mb-5\">\n        <div className=\"row\">\n          <div className=\"col-md-1 d-flex align-items-center\">\n            <h4 className=\"mb-0\">Filters</h4>\n          </div>\n\n          <div className=\"col-md-2\">\n            <TextField\n              fullWidth\n              id=\"outlined-basic\"\n              size=\"small\"\n              onKeyUp={handleParams}\n              name=\"filter_value\"\n              label=\"Search\"\n              variant=\"outlined\"\n            />\n          </div>\n          <DateFilter onDateUpdate={() => getBrowseListData()} />\n          <div className=\"col-md-2\">\n            <TextField\n              fullWidth\n              id=\"outlined-basic\"\n              size=\"small\"\n              onChange={(e) => {\n                handleBodyParam(e);\n              }}\n              name=\"generated_by\"\n              select\n              label=\"Generated By\"\n              variant=\"outlined\"\n            >\n              <MenuItem value={\"\"}>None</MenuItem>\n              {empList &&\n                empList.map((emp, index) => {\n                  return (\n                    <MenuItem key={index} value={emp.value}>\n                      {emp.value}\n                    </MenuItem>\n                  );\n                })}\n            </TextField>\n          </div>\n          <div className=\"col-md-2\">\n            <TextField\n              fullWidth\n              id=\"outlined-basic\"\n              size=\"small\"\n              onChange={(e) => {\n                handleBodyParam(e);\n              }}\n              name=\"status\"\n              select\n              label=\"Status\"\n              variant=\"outlined\"\n            >\n              <MenuItem value={\"all\"}>All</MenuItem>\n              <MenuItem value={\"open\"}>Open</MenuItem>\n              <MenuItem value={\"close\"}>Close</MenuItem>\n            </TextField>\n          </div>\n        </div>\n      </div>\n      <Dialog\n        open={remarksModal}\n        fullWidth\n        onClose={toggleRemarks}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogTitle id=\"responsive-dialog-title\">Add Comment</DialogTitle>\n        <DialogContent>\n          <TextField\n            variant=\"outlined\"\n            className=\"mb-4\"\n            size=\"small\"\n            fullWidth\n            id=\"select-1\"\n            select\n            name=\"status\"\n            onChange={onRemarkChange}\n            label=\"Status*\"\n          >\n            <MenuItem value={\"0\"}>Close</MenuItem>\n            <MenuItem value={\"1\"}>Open</MenuItem>\n          </TextField>\n          <TextField\n            variant=\"outlined\"\n            multiline\n            size=\"small\"\n            name=\"comment\"\n            onChange={onRemarkChange}\n            label=\"Comments*\"\n            fullWidth\n          />\n          <div className=\"form-group mt-3\">\n            <label>Upload Attachment</label>\n            <input\n              className=\"form-control\"\n              id=\"files\"\n              onChange={(e) => {\n                if (e.target.files.length > 0) {\n                  setAttachedFile(e.target.files[0]);\n                  setRemarks({\n                    ...remarks,\n                    attach_file: e.target.files[0].name,\n                  });\n                } else {\n                  setAttachedFile(null);\n                  setRemarks({\n                    ...remarks,\n                    attach_file: \"\",\n                  });\n                }\n              }}\n              type=\"file\"\n            />\n          </div>\n          <List>\n            {remarksList &&\n              remarksList.length > 0 &&\n              remarksList.map((remark, index) => {\n                return (\n                  <ListItem key={index}>\n                    <ListItemAvatar>\n                      {remark.attach_file !== \"\" ? (\n                        <img\n                          src={\n                            \"https://diagapi.quickgst.in/Support_Attachment/\" +\n                            remark.attach_file\n                          }\n                        />\n                      ) : (\n                        <Avatar>\n                          <ImageIcon />\n                        </Avatar>\n                      )}\n                    </ListItemAvatar>\n                    <ListItemText\n                      primary={remark.emp_name}\n                      secondary={\n                        <p className=\"mb-0\">\n                          {remark.comments}{\" \"}\n                          <span className=\"float-right\">{remark.datetime}</span>\n                        </p>\n                      }\n                    />\n                  </ListItem>\n                );\n              })}\n          </List>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={toggleRemarks} color=\"primary\">\n            Close\n          </Button>\n          <Button\n            onClick={saveRemarks}\n            disabled={\n              remarks.remarks == \"\" || remarks.status_id == \"\" || loading\n            }\n            color=\"primary\"\n          >\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <div style={{ height: 400, width: \"100%\" }}>\n        <DataGrid\n          columns={[\n            {\n              field: \"id\",\n              headerName: \"Sr. no\",\n              flex: 0,\n              hide: true,\n            },\n            {\n              field: \"date\",\n              headerName: \"Date\",\n              width: 100,\n            },\n            {\n              field: \"ticket_no\",\n              headerName: \"Ticket No\",\n              width: 120,\n            },\n            {\n              field: \"menu\",\n              headerName: \"Menu\",\n              width: 120,\n            },\n            {\n              field: \"transaction\",\n              headerName: \"Transaction\",\n              width: 170,\n            },\n            {\n              field: \"type\",\n              headerName: \"Type\",\n              width: 150,\n            },\n            {\n              field: \"priority\",\n              headerName: \"Priority\",\n              width: 100,\n            },\n            {\n              field: \"details\",\n              headerName: \"Details\",\n              width: 200,\n            },\n            {\n              field: \"generated_by\",\n              headerName: \"Generated By\",\n              width: 130,\n            },\n            {\n              field: \"status\",\n              headerName: \"Status\",\n              width: 100,\n            },\n            {\n              field: \"remarks\",\n              headerName: \"Remarks\",\n              width: 170,\n            },\n            {\n              field: \"attachments\",\n              headerName: \"Attachments\",\n              width: 100,\n            },\n\n            {\n              field: \"\",\n              headerName: \"\",\n              renderCell: (param) => {\n                return (\n                  <>\n                    {remarkLoading ? (\n                      <img src=\"/asset/images/circle.gif\" width={20} />\n                    ) : (\n                      <Button\n                        className=\"text-lowercase\"\n                        color=\"primary\"\n                        onClick={() => {\n                          getRemarkList(param.row.tran_id);\n                        }}\n                      >\n                        Comment\n                      </Button>\n                    )}\n                  </>\n                );\n              },\n              width: 100,\n            },\n          ]}\n          pagination\n          disableColumnFilter\n          pageSize={params.pageSize}\n          page={params.pageNo}\n          rowsPerPageOptions={[10, 15, 25, 100]}\n          rowCount={totalRecord}\n          paginationMode=\"server\"\n          onPageSizeChange={handlePageSizeChange}\n          onPageChange={handlePageChange}\n          loading={loading}\n          rowHeight={30}\n          components={\n            browseListData.length > 0\n              ? {\n                  Pagination: CustomPagination,\n                  NoRowsOverlay: CustomNoRowsOverlay,\n                }\n              : {}\n          }\n          onSortModelChange={(sort) => {\n            if (sort.length > 0) {\n              setParams({\n                ...params,\n                sort_column: sort[0].field,\n                sort_order: sort[0].sort,\n              });\n            }\n          }}\n          rows={browseListData}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default SupportTicketBrowse;\n"]},"metadata":{},"sourceType":"module"}